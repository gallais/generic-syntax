<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Definitions.RawSemiring</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Basic auxiliary definitions for semiring-like structures</a>
<a id="166" class="Comment">------------------------------------------------------------------------</a>

<a id="240" class="Symbol">{-#</a> <a id="244" class="Keyword">OPTIONS</a> <a id="252" class="Pragma">--without-K</a> <a id="264" class="Pragma">--safe</a> <a id="271" class="Symbol">#-}</a>

<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Algebra.Bundles.html" class="Module">Algebra.Bundles</a> <a id="304" class="Keyword">using</a> <a id="310" class="Symbol">(</a><a id="311" href="Algebra.Bundles.html#14064" class="Record">RawSemiring</a><a id="322" class="Symbol">)</a>
<a id="324" class="Keyword">open</a> <a id="329" class="Keyword">import</a> <a id="336" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="350" class="Keyword">using</a> <a id="356" class="Symbol">(</a><a id="357" href="Data.Sum.Base.html#734" class="Datatype Operator">_⊎_</a><a id="360" class="Symbol">)</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="383" class="Keyword">using</a> <a id="389" class="Symbol">(</a><a id="390" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="391" class="Symbol">)</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Level.html" class="Module">Level</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Agda.Primitive.html#636" class="Primitive Operator">_⊔_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="456" class="Keyword">using</a> <a id="462" class="Symbol">(</a><a id="463" href="Relation.Binary.Core.html#882" class="Function">Rel</a><a id="466" class="Symbol">)</a>

<a id="469" class="Keyword">module</a> <a id="476" href="Algebra.Definitions.RawSemiring.html" class="Module">Algebra.Definitions.RawSemiring</a> <a id="508" class="Symbol">{</a><a id="509" href="Algebra.Definitions.RawSemiring.html#509" class="Bound">a</a> <a id="511" href="Algebra.Definitions.RawSemiring.html#511" class="Bound">ℓ</a><a id="512" class="Symbol">}</a> <a id="514" class="Symbol">(</a><a id="515" href="Algebra.Definitions.RawSemiring.html#515" class="Bound">M</a> <a id="517" class="Symbol">:</a> <a id="519" href="Algebra.Bundles.html#14064" class="Record">RawSemiring</a> <a id="531" href="Algebra.Definitions.RawSemiring.html#509" class="Bound">a</a> <a id="533" href="Algebra.Definitions.RawSemiring.html#511" class="Bound">ℓ</a><a id="534" class="Symbol">)</a> <a id="536" class="Keyword">where</a>

<a id="543" class="Keyword">open</a> <a id="548" href="Algebra.Bundles.html#14064" class="Module">RawSemiring</a> <a id="560" href="Algebra.Definitions.RawSemiring.html#515" class="Bound">M</a> <a id="562" class="Keyword">renaming</a> <a id="571" class="Symbol">(</a>Carrier <a id="580" class="Symbol">to</a> A<a id="584" class="Symbol">)</a>

<a id="587" class="Comment">------------------------------------------------------------------------</a>
<a id="660" class="Comment">-- Definitions over _+_</a>

<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="Algebra.Definitions.RawMonoid.html" class="Module">Algebra.Definitions.RawMonoid</a> <a id="727" href="Algebra.Bundles.html#10682" class="Function">+-rawMonoid</a> <a id="739" class="Keyword">public</a>
  <a id="748" class="Keyword">using</a>
  <a id="756" class="Symbol">(</a> _×_   <a id="764" class="Comment">-- : ℕ → A → A</a>
  <a id="781" class="Symbol">;</a> _×′_  <a id="789" class="Comment">-- : ℕ → A → A</a>
  <a id="806" class="Symbol">;</a> sum   <a id="814" class="Comment">-- : Vector A n → A</a>
  <a id="836" class="Symbol">)</a>

<a id="839" class="Comment">------------------------------------------------------------------------</a>
<a id="912" class="Comment">-- Definitions over _*_</a>

<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Algebra.Definitions.RawMonoid.html" class="Module">Algebra.Definitions.RawMonoid</a> <a id="979" href="Algebra.Bundles.html#14543" class="Function">*-rawMonoid</a> <a id="991" class="Symbol">as</a> <a id="Mult"></a><a id="994" href="Algebra.Definitions.RawSemiring.html#994" class="Module">Mult</a> <a id="999" class="Keyword">public</a>
  <a id="1008" class="Keyword">using</a>
  <a id="1016" class="Symbol">(</a> <a id="1018" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">_∣_</a>
  <a id="1024" class="Symbol">;</a> <a id="1026" href="Algebra.Definitions.RawMagma.html#1335" class="Function Operator">_∤_</a>
  <a id="1032" class="Symbol">)</a>
  <a id="1036" class="Keyword">renaming</a>
  <a id="1047" class="Symbol">(</a> <a id="1049" href="Algebra.Definitions.RawMonoid.html#2102" class="Function">sum</a> <a id="1053" class="Symbol">to</a> <a id="Mult.sum"></a><a id="1056" href="Algebra.Definitions.RawSemiring.html#1056" class="Function">product</a>
  <a id="1066" class="Symbol">)</a>

<a id="1069" class="Comment">-- Unlike `sum` to `product`, can&#39;t simply rename multiplication to</a>
<a id="1137" class="Comment">-- exponentation as the argument order is reversed.</a>

<a id="1190" class="Comment">-- Standard exponentiation</a>

<a id="1218" class="Keyword">infixr</a> <a id="1225" class="Number">8</a> <a id="1227" href="Algebra.Definitions.RawSemiring.html#1231" class="Function Operator">_^_</a>
<a id="_^_"></a><a id="1231" href="Algebra.Definitions.RawSemiring.html#1231" class="Function Operator">_^_</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a> <a id="1239" class="Symbol">→</a> <a id="1241" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1243" class="Symbol">→</a> <a id="1245" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a>
<a id="1247" href="Algebra.Definitions.RawSemiring.html#1247" class="Bound">x</a> <a id="1249" href="Algebra.Definitions.RawSemiring.html#1231" class="Function Operator">^</a> <a id="1251" href="Algebra.Definitions.RawSemiring.html#1251" class="Bound">n</a>  <a id="1254" class="Symbol">=</a> <a id="1256" href="Algebra.Definitions.RawSemiring.html#1251" class="Bound">n</a> <a id="1258" href="Algebra.Definitions.RawMonoid.html#1080" class="Function Operator">Mult.×</a> <a id="1265" href="Algebra.Definitions.RawSemiring.html#1247" class="Bound">x</a>

<a id="1268" class="Comment">-- Exponentiation optimsed for type-checking</a>

<a id="1314" class="Keyword">infixr</a> <a id="1321" class="Number">8</a> <a id="1323" href="Algebra.Definitions.RawSemiring.html#1328" class="Function Operator">_^′_</a>
<a id="_^′_"></a><a id="1328" href="Algebra.Definitions.RawSemiring.html#1328" class="Function Operator">_^′_</a> <a id="1333" class="Symbol">:</a> <a id="1335" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a> <a id="1337" class="Symbol">→</a> <a id="1339" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a>
<a id="1345" href="Algebra.Definitions.RawSemiring.html#1345" class="Bound">x</a> <a id="1347" href="Algebra.Definitions.RawSemiring.html#1328" class="Function Operator">^′</a> <a id="1350" href="Algebra.Definitions.RawSemiring.html#1350" class="Bound">n</a>  <a id="1353" class="Symbol">=</a> <a id="1355" href="Algebra.Definitions.RawSemiring.html#1350" class="Bound">n</a> <a id="1357" href="Algebra.Definitions.RawMonoid.html#1836" class="Function Operator">Mult.×′</a> <a id="1365" href="Algebra.Definitions.RawSemiring.html#1345" class="Bound">x</a>
<a id="1367" class="Symbol">{-#</a> <a id="1371" class="Keyword">INLINE</a> <a id="1378" href="Algebra.Definitions.RawSemiring.html#1328" class="Function Operator">_^′_</a> <a id="1383" class="Symbol">#-}</a>

<a id="1388" class="Comment">------------------------------------------------------------------------</a>
<a id="1461" class="Comment">-- Primality</a>

<a id="Coprime"></a><a id="1475" href="Algebra.Definitions.RawSemiring.html#1475" class="Function">Coprime</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="1489" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Algebra.Definitions.RawSemiring.html#509" class="Bound">a</a> <a id="1494" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1496" href="Algebra.Definitions.RawSemiring.html#511" class="Bound">ℓ</a><a id="1497" class="Symbol">)</a>
<a id="1499" href="Algebra.Definitions.RawSemiring.html#1475" class="Function">Coprime</a> <a id="1507" href="Algebra.Definitions.RawSemiring.html#1507" class="Bound">x</a> <a id="1509" href="Algebra.Definitions.RawSemiring.html#1509" class="Bound">y</a> <a id="1511" class="Symbol">=</a> <a id="1513" class="Symbol">∀</a> <a id="1515" class="Symbol">{</a><a id="1516" href="Algebra.Definitions.RawSemiring.html#1516" class="Bound">z</a><a id="1517" class="Symbol">}</a> <a id="1519" class="Symbol">→</a> <a id="1521" href="Algebra.Definitions.RawSemiring.html#1516" class="Bound">z</a> <a id="1523" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1525" href="Algebra.Definitions.RawSemiring.html#1507" class="Bound">x</a> <a id="1527" class="Symbol">→</a> <a id="1529" href="Algebra.Definitions.RawSemiring.html#1516" class="Bound">z</a> <a id="1531" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1533" href="Algebra.Definitions.RawSemiring.html#1509" class="Bound">y</a> <a id="1535" class="Symbol">→</a> <a id="1537" href="Algebra.Definitions.RawSemiring.html#1516" class="Bound">z</a> <a id="1539" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1541" href="Algebra.Bundles.html#14285" class="Field">1#</a>

<a id="1545" class="Keyword">record</a> <a id="Irreducible"></a><a id="1552" href="Algebra.Definitions.RawSemiring.html#1552" class="Record">Irreducible</a> <a id="1564" class="Symbol">(</a><a id="1565" href="Algebra.Definitions.RawSemiring.html#1565" class="Bound">p</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a><a id="1570" class="Symbol">)</a> <a id="1572" class="Symbol">:</a> <a id="1574" class="PrimitiveType">Set</a> <a id="1578" class="Symbol">(</a><a id="1579" href="Algebra.Definitions.RawSemiring.html#509" class="Bound">a</a> <a id="1581" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1583" href="Algebra.Definitions.RawSemiring.html#511" class="Bound">ℓ</a><a id="1584" class="Symbol">)</a> <a id="1586" class="Keyword">where</a>
  <a id="1594" class="Keyword">constructor</a> <a id="mkIrred"></a><a id="1606" href="Algebra.Definitions.RawSemiring.html#1606" class="InductiveConstructor">mkIrred</a>
  <a id="1616" class="Keyword">field</a>
    <a id="Irreducible.p∤1"></a><a id="1626" href="Algebra.Definitions.RawSemiring.html#1626" class="Field">p∤1</a>       <a id="1636" class="Symbol">:</a> <a id="1638" href="Algebra.Definitions.RawSemiring.html#1565" class="Bound">p</a> <a id="1640" href="Algebra.Definitions.RawMagma.html#1335" class="Function Operator">∤</a> <a id="1642" href="Algebra.Bundles.html#14285" class="Field">1#</a>
    <a id="Irreducible.split-∣1"></a><a id="1649" href="Algebra.Definitions.RawSemiring.html#1649" class="Field">split-∣1</a> <a id="1658" class="Symbol">:</a> <a id="1660" class="Symbol">∀</a> <a id="1662" class="Symbol">{</a><a id="1663" href="Algebra.Definitions.RawSemiring.html#1663" class="Bound">x</a> <a id="1665" href="Algebra.Definitions.RawSemiring.html#1665" class="Bound">y</a><a id="1666" class="Symbol">}</a> <a id="1668" class="Symbol">→</a> <a id="1670" href="Algebra.Definitions.RawSemiring.html#1565" class="Bound">p</a> <a id="1672" href="Algebra.Bundles.html#14183" class="Field Operator">≈</a> <a id="1674" class="Symbol">(</a><a id="1675" href="Algebra.Definitions.RawSemiring.html#1663" class="Bound">x</a> <a id="1677" href="Algebra.Bundles.html#14237" class="Field Operator">*</a> <a id="1679" href="Algebra.Definitions.RawSemiring.html#1665" class="Bound">y</a><a id="1680" class="Symbol">)</a> <a id="1682" class="Symbol">→</a> <a id="1684" href="Algebra.Definitions.RawSemiring.html#1663" class="Bound">x</a> <a id="1686" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1688" href="Algebra.Bundles.html#14285" class="Field">1#</a> <a id="1691" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="1693" href="Algebra.Definitions.RawSemiring.html#1665" class="Bound">y</a> <a id="1695" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1697" href="Algebra.Bundles.html#14285" class="Field">1#</a>

<a id="1701" class="Keyword">record</a> <a id="Prime"></a><a id="1708" href="Algebra.Definitions.RawSemiring.html#1708" class="Record">Prime</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Algebra.Definitions.RawSemiring.html#1715" class="Bound">p</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="Algebra.Definitions.RawSemiring.html#583" class="Field">A</a><a id="1720" class="Symbol">)</a> <a id="1722" class="Symbol">:</a> <a id="1724" class="PrimitiveType">Set</a> <a id="1728" class="Symbol">(</a><a id="1729" href="Algebra.Definitions.RawSemiring.html#509" class="Bound">a</a> <a id="1731" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1733" href="Algebra.Definitions.RawSemiring.html#511" class="Bound">ℓ</a><a id="1734" class="Symbol">)</a> <a id="1736" class="Keyword">where</a>
  <a id="1744" class="Keyword">constructor</a> <a id="mkPrime"></a><a id="1756" href="Algebra.Definitions.RawSemiring.html#1756" class="InductiveConstructor">mkPrime</a>
  <a id="1766" class="Keyword">field</a>
    <a id="Prime.p≉0"></a><a id="1776" href="Algebra.Definitions.RawSemiring.html#1776" class="Field">p≉0</a>     <a id="1784" class="Symbol">:</a> <a id="1786" href="Algebra.Definitions.RawSemiring.html#1715" class="Bound">p</a> <a id="1788" href="Algebra.Bundles.html#949" class="Function Operator">≉</a> <a id="1790" href="Algebra.Bundles.html#14263" class="Field">0#</a>
    <a id="Prime.split-∣"></a><a id="1797" href="Algebra.Definitions.RawSemiring.html#1797" class="Field">split-∣</a> <a id="1805" class="Symbol">:</a> <a id="1807" class="Symbol">∀</a> <a id="1809" class="Symbol">{</a><a id="1810" href="Algebra.Definitions.RawSemiring.html#1810" class="Bound">x</a> <a id="1812" href="Algebra.Definitions.RawSemiring.html#1812" class="Bound">y</a><a id="1813" class="Symbol">}</a> <a id="1815" class="Symbol">→</a> <a id="1817" href="Algebra.Definitions.RawSemiring.html#1715" class="Bound">p</a> <a id="1819" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1821" href="Algebra.Definitions.RawSemiring.html#1810" class="Bound">x</a> <a id="1823" href="Algebra.Bundles.html#14237" class="Field Operator">*</a> <a id="1825" href="Algebra.Definitions.RawSemiring.html#1812" class="Bound">y</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="Algebra.Definitions.RawSemiring.html#1715" class="Bound">p</a> <a id="1831" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1833" href="Algebra.Definitions.RawSemiring.html#1810" class="Bound">x</a> <a id="1835" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="1837" href="Algebra.Definitions.RawSemiring.html#1715" class="Bound">p</a> <a id="1839" href="Algebra.Definitions.RawMagma.html#1303" class="Function Operator">∣</a> <a id="1841" href="Algebra.Definitions.RawSemiring.html#1812" class="Bound">y</a>

</pre></body></html>