<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Semantics.Elaboration.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--sized-types</a> <a id="34" class="Symbol">#-}</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Generic.Semantics.Elaboration.State.html" class="Module">Generic.Semantics.Elaboration.State</a> <a id="82" class="Keyword">where</a>

<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Data.Product.html" class="Module">Data.Product</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="141" class="Symbol">as</a> <a id="144" class="Module">L</a> <a id="146" class="Keyword">hiding</a> <a id="153" class="Symbol">(</a><a id="154" href="Data.List.Base.html#5819" class="Function">lookup</a><a id="160" class="Symbol">)</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Function.Base.html" class="Module">Function.Base</a>

<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.Var.html" class="Module">Data.Var</a> <a id="260" class="Symbol">as</a> <a id="263" class="Module">V</a>
<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="Data.Var.Varlike.html" class="Module">Data.Var.Varlike</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="Data.Environment.html" class="Module">Data.Environment</a> <a id="323" class="Symbol">as</a> <a id="326" class="Module">E</a>
<a id="328" class="Keyword">open</a> <a id="333" class="Keyword">import</a> <a id="340" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>
<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Generic.Syntax.STLC%252BState.html" class="Module">Generic.Syntax.STLC+State</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Generic.Syntax.STLC%252BProduct.html" class="Module">Generic.Syntax.STLC+Product</a>
<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>
<a id="463" class="Keyword">open</a> <a id="468" class="Keyword">import</a> <a id="475" href="Generic.Semantics.Syntactic.html" class="Module">Generic.Semantics.Syntactic</a>

<a id="504" class="Comment">-- Importing the proven-injective type translation</a>

<a id="M⟦_⟧"></a><a id="556" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦_⟧</a> <a id="561" class="Symbol">:</a> <a id="563" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="569" class="Symbol">→</a> <a id="571" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a>
<a id="577" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="580" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a>     <a id="586" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="588" class="Symbol">=</a> <a id="590" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a>
<a id="592" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="595" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a>     <a id="601" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="603" class="Symbol">=</a> <a id="605" href="Generic.Syntax.STLC%252BProduct.html#433" class="InductiveConstructor">𝟙</a>
<a id="607" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="610" href="Generic.Semantics.Elaboration.State.html#610" class="Bound">σ</a> <a id="612" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="615" href="Generic.Semantics.Elaboration.State.html#615" class="Bound">τ</a> <a id="617" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="619" class="Symbol">=</a> <a id="621" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="624" href="Generic.Semantics.Elaboration.State.html#610" class="Bound">σ</a> <a id="626" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="628" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="631" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="634" href="Generic.Semantics.Elaboration.State.html#615" class="Bound">τ</a> <a id="636" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a>
<a id="638" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="641" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="643" href="Generic.Semantics.Elaboration.State.html#643" class="Bound">σ</a>   <a id="647" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="649" class="Symbol">=</a> <a id="651" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a> <a id="653" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="656" class="Symbol">(</a><a id="657" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a> <a id="659" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="661" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="664" href="Generic.Semantics.Elaboration.State.html#643" class="Bound">σ</a> <a id="666" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a><a id="667" class="Symbol">)</a>

<a id="`→-inj"></a><a id="670" href="Generic.Semantics.Elaboration.State.html#670" class="Function">`→-inj</a> <a id="677" class="Symbol">:</a> <a id="679" class="Symbol">{</a><a id="680" href="Generic.Semantics.Elaboration.State.html#680" class="Bound">σ</a> <a id="682" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ</a> <a id="684" href="Generic.Semantics.Elaboration.State.html#684" class="Bound">σ₁</a> <a id="687" href="Generic.Semantics.Elaboration.State.html#687" class="Bound">τ₁</a> <a id="690" class="Symbol">:</a> <a id="692" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a><a id="697" class="Symbol">}</a> <a id="699" class="Symbol">→</a> <a id="701" class="Symbol">(</a><a id="702" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a> <a id="708" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="710" href="Generic.Semantics.Elaboration.State.html#680" class="Bound">σ</a> <a id="712" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="715" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ</a><a id="716" class="Symbol">)</a> <a id="718" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="720" href="Generic.Semantics.Elaboration.State.html#684" class="Bound">σ₁</a> <a id="723" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="726" href="Generic.Semantics.Elaboration.State.html#687" class="Bound">τ₁</a> <a id="729" class="Symbol">→</a> <a id="731" href="Generic.Semantics.Elaboration.State.html#680" class="Bound">σ</a> <a id="733" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="735" href="Generic.Semantics.Elaboration.State.html#684" class="Bound">σ₁</a> <a id="738" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="740" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ</a> <a id="742" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="744" href="Generic.Semantics.Elaboration.State.html#687" class="Bound">τ₁</a>
<a id="747" href="Generic.Semantics.Elaboration.State.html#670" class="Function">`→-inj</a> <a id="754" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="759" class="Symbol">=</a> <a id="761" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="766" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="768" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="⊗-inj"></a><a id="774" href="Generic.Semantics.Elaboration.State.html#774" class="Function">⊗-inj</a> <a id="780" class="Symbol">:</a> <a id="782" class="Symbol">{</a><a id="783" href="Generic.Semantics.Elaboration.State.html#783" class="Bound">σ</a> <a id="785" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ</a> <a id="787" href="Generic.Semantics.Elaboration.State.html#787" class="Bound">σ₁</a> <a id="790" href="Generic.Semantics.Elaboration.State.html#790" class="Bound">τ₁</a> <a id="793" class="Symbol">:</a> <a id="795" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a><a id="800" class="Symbol">}</a> <a id="802" class="Symbol">→</a> <a id="804" class="Symbol">(</a><a id="805" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a> <a id="811" href="Function.Base.html#4562" class="Function Operator">∋</a> <a id="813" href="Generic.Semantics.Elaboration.State.html#783" class="Bound">σ</a> <a id="815" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="817" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ</a><a id="818" class="Symbol">)</a> <a id="820" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="822" href="Generic.Semantics.Elaboration.State.html#787" class="Bound">σ₁</a> <a id="825" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="827" href="Generic.Semantics.Elaboration.State.html#790" class="Bound">τ₁</a> <a id="830" class="Symbol">→</a> <a id="832" href="Generic.Semantics.Elaboration.State.html#783" class="Bound">σ</a> <a id="834" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="836" href="Generic.Semantics.Elaboration.State.html#787" class="Bound">σ₁</a> <a id="839" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="841" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ</a> <a id="843" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="845" href="Generic.Semantics.Elaboration.State.html#790" class="Bound">τ₁</a>
<a id="848" href="Generic.Semantics.Elaboration.State.html#774" class="Function">⊗-inj</a> <a id="854" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="859" class="Symbol">=</a> <a id="861" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="866" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="868" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="M⟦⟧-inj"></a><a id="874" href="Generic.Semantics.Elaboration.State.html#874" class="Function">M⟦⟧-inj</a> <a id="882" class="Symbol">:</a> <a id="884" href="Data.Var.html#1033" class="Record">Injective</a> <a id="894" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦_⟧</a>
<a id="899" href="Generic.Semantics.Elaboration.State.html#874" class="Function">M⟦⟧-inj</a> <a id="907" class="Symbol">=</a> <a id="909" class="Keyword">record</a> <a id="916" class="Symbol">{</a> <a id="918" href="Data.Var.html#1101" class="Field">inj</a> <a id="922" class="Symbol">=</a> <a id="924" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="927" class="Symbol">_</a> <a id="929" class="Symbol">_</a> <a id="931" class="Symbol">}</a> <a id="933" class="Keyword">where</a>
  <a id="941" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="944" class="Symbol">:</a> <a id="946" class="Symbol">(</a><a id="947" href="Generic.Semantics.Elaboration.State.html#947" class="Bound">σ</a> <a id="949" href="Generic.Semantics.Elaboration.State.html#949" class="Bound">τ</a> <a id="951" class="Symbol">:</a> <a id="953" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a><a id="958" class="Symbol">)</a> <a id="960" class="Symbol">→</a> <a id="962" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="965" href="Generic.Semantics.Elaboration.State.html#947" class="Bound">σ</a> <a id="967" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="969" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="971" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="974" href="Generic.Semantics.Elaboration.State.html#949" class="Bound">τ</a> <a id="976" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="978" class="Symbol">→</a> <a id="980" href="Generic.Semantics.Elaboration.State.html#947" class="Bound">σ</a> <a id="982" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="984" href="Generic.Semantics.Elaboration.State.html#949" class="Bound">τ</a>
  <a id="988" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="991" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="993" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="995" href="Generic.Semantics.Elaboration.State.html#995" class="Bound">eq</a> <a id="998" class="Symbol">=</a> <a id="1000" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="1007" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1010" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1012" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1014" class="Symbol">()</a>
  <a id="1019" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1022" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Generic.Semantics.Elaboration.State.html#1025" class="Bound">τ</a> <a id="1027" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1030" href="Generic.Semantics.Elaboration.State.html#1030" class="Bound">τ₁</a><a id="1032" class="Symbol">)</a> <a id="1034" class="Symbol">()</a>
  <a id="1039" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1042" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1044" class="Symbol">(</a><a id="1045" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1047" href="Generic.Semantics.Elaboration.State.html#1047" class="Bound">τ</a><a id="1048" class="Symbol">)</a> <a id="1050" class="Symbol">()</a>
  <a id="1055" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1058" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1060" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1062" class="Symbol">()</a>
  <a id="1067" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1070" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1072" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1074" href="Generic.Semantics.Elaboration.State.html#1074" class="Bound">eq</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="1086" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1089" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1091" class="Symbol">(</a><a id="1092" href="Generic.Semantics.Elaboration.State.html#1092" class="Bound">τ</a> <a id="1094" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1097" href="Generic.Semantics.Elaboration.State.html#1097" class="Bound">τ₁</a><a id="1099" class="Symbol">)</a> <a id="1101" class="Symbol">()</a>
  <a id="1106" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1109" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1114" href="Generic.Semantics.Elaboration.State.html#1114" class="Bound">τ</a><a id="1115" class="Symbol">)</a> <a id="1117" class="Symbol">()</a>
  <a id="1122" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1125" class="Symbol">(</a><a id="1126" href="Generic.Semantics.Elaboration.State.html#1126" class="Bound">σ</a> <a id="1128" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1131" href="Generic.Semantics.Elaboration.State.html#1131" class="Bound">σ₁</a><a id="1133" class="Symbol">)</a> <a id="1135" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1137" class="Symbol">()</a>
  <a id="1142" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1145" class="Symbol">(</a><a id="1146" href="Generic.Semantics.Elaboration.State.html#1146" class="Bound">σ</a> <a id="1148" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1151" href="Generic.Semantics.Elaboration.State.html#1151" class="Bound">σ₁</a><a id="1153" class="Symbol">)</a> <a id="1155" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1157" class="Symbol">()</a>
  <a id="1162" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1165" class="Symbol">(</a><a id="1166" href="Generic.Semantics.Elaboration.State.html#1166" class="Bound">σ</a> <a id="1168" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1171" href="Generic.Semantics.Elaboration.State.html#1171" class="Bound">σ₁</a><a id="1173" class="Symbol">)</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Generic.Semantics.Elaboration.State.html#1176" class="Bound">τ</a> <a id="1178" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1181" href="Generic.Semantics.Elaboration.State.html#1181" class="Bound">τ₁</a><a id="1183" class="Symbol">)</a> <a id="1185" href="Generic.Semantics.Elaboration.State.html#1185" class="Bound">eq</a> <a id="1188" class="Symbol">=</a>
    <a id="1194" href="Relation.Binary.PropositionalEquality.Core.html#1410" class="Function">cong₂</a> <a id="1200" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">_`→_</a> <a id="1205" class="Symbol">(</a><a id="1206" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1209" href="Generic.Semantics.Elaboration.State.html#1166" class="Bound">σ</a> <a id="1211" href="Generic.Semantics.Elaboration.State.html#1176" class="Bound">τ</a> <a id="1213" class="Symbol">(</a><a id="1214" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1220" class="Symbol">(</a><a id="1221" href="Generic.Semantics.Elaboration.State.html#670" class="Function">`→-inj</a> <a id="1228" href="Generic.Semantics.Elaboration.State.html#1185" class="Bound">eq</a><a id="1230" class="Symbol">)))</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1238" href="Generic.Semantics.Elaboration.State.html#1171" class="Bound">σ₁</a> <a id="1241" href="Generic.Semantics.Elaboration.State.html#1181" class="Bound">τ₁</a> <a id="1244" class="Symbol">(</a><a id="1245" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1251" class="Symbol">(</a><a id="1252" href="Generic.Semantics.Elaboration.State.html#670" class="Function">`→-inj</a> <a id="1259" href="Generic.Semantics.Elaboration.State.html#1185" class="Bound">eq</a><a id="1261" class="Symbol">)))</a>
  <a id="1267" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1270" class="Symbol">(</a><a id="1271" href="Generic.Semantics.Elaboration.State.html#1271" class="Bound">σ</a> <a id="1273" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1276" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a><a id="1277" class="Symbol">)</a> <a id="1279" class="Symbol">(</a><a id="1280" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1282" href="Generic.Semantics.Elaboration.State.html#1282" class="Bound">τ</a><a id="1283" class="Symbol">)</a> <a id="1285" class="Symbol">()</a>
  <a id="1290" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1293" class="Symbol">(</a><a id="1294" href="Generic.Semantics.Elaboration.State.html#1294" class="Bound">σ</a> <a id="1296" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1299" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a><a id="1300" class="Symbol">)</a> <a id="1302" class="Symbol">(</a><a id="1303" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1305" href="Generic.Semantics.Elaboration.State.html#1305" class="Bound">τ</a><a id="1306" class="Symbol">)</a> <a id="1308" class="Symbol">()</a>
  <a id="1313" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1316" class="Symbol">(</a><a id="1317" href="Generic.Semantics.Elaboration.State.html#1317" class="Bound">σ</a> <a id="1319" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1322" class="Symbol">(</a><a id="1323" href="Generic.Semantics.Elaboration.State.html#1323" class="Bound">σ₁</a> <a id="1326" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1329" href="Generic.Semantics.Elaboration.State.html#1329" class="Bound">σ₂</a><a id="1331" class="Symbol">))</a> <a id="1334" class="Symbol">(</a><a id="1335" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1337" href="Generic.Semantics.Elaboration.State.html#1337" class="Bound">τ</a><a id="1338" class="Symbol">)</a> <a id="1340" class="Symbol">()</a>
  <a id="1345" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Generic.Semantics.Elaboration.State.html#1349" class="Bound">σ</a> <a id="1351" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1354" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1356" href="Generic.Semantics.Elaboration.State.html#1356" class="Bound">σ₁</a><a id="1358" class="Symbol">)</a> <a id="1360" class="Symbol">(</a><a id="1361" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1363" href="Generic.Semantics.Elaboration.State.html#1363" class="Bound">τ</a><a id="1364" class="Symbol">)</a> <a id="1366" class="Symbol">()</a>
  <a id="1371" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1377" href="Generic.Semantics.Elaboration.State.html#1377" class="Bound">σ</a><a id="1378" class="Symbol">)</a> <a id="1380" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1382" class="Symbol">()</a>
  <a id="1387" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1390" class="Symbol">(</a><a id="1391" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1393" href="Generic.Semantics.Elaboration.State.html#1393" class="Bound">σ</a><a id="1394" class="Symbol">)</a> <a id="1396" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1398" class="Symbol">()</a>
  <a id="1403" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1406" class="Symbol">(</a><a id="1407" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1409" href="Generic.Semantics.Elaboration.State.html#1409" class="Bound">σ</a><a id="1410" class="Symbol">)</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Generic.Semantics.Elaboration.State.html#1413" class="Bound">τ</a> <a id="1415" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1418" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a><a id="1419" class="Symbol">)</a> <a id="1421" class="Symbol">()</a>
  <a id="1426" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1429" class="Symbol">(</a><a id="1430" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1432" href="Generic.Semantics.Elaboration.State.html#1432" class="Bound">σ</a><a id="1433" class="Symbol">)</a> <a id="1435" class="Symbol">(</a><a id="1436" href="Generic.Semantics.Elaboration.State.html#1436" class="Bound">τ</a> <a id="1438" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1441" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a><a id="1442" class="Symbol">)</a> <a id="1444" class="Symbol">()</a>
  <a id="1449" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1455" href="Generic.Semantics.Elaboration.State.html#1455" class="Bound">σ</a><a id="1456" class="Symbol">)</a> <a id="1458" class="Symbol">(</a><a id="1459" href="Generic.Semantics.Elaboration.State.html#1459" class="Bound">τ</a> <a id="1461" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Generic.Semantics.Elaboration.State.html#1465" class="Bound">τ₁</a> <a id="1468" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1471" href="Generic.Semantics.Elaboration.State.html#1471" class="Bound">τ₂</a><a id="1473" class="Symbol">))</a> <a id="1476" class="Symbol">()</a>
  <a id="1481" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1484" class="Symbol">(</a><a id="1485" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1487" href="Generic.Semantics.Elaboration.State.html#1487" class="Bound">σ</a><a id="1488" class="Symbol">)</a> <a id="1490" class="Symbol">(</a><a id="1491" href="Generic.Semantics.Elaboration.State.html#1491" class="Bound">τ</a> <a id="1493" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1496" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1498" href="Generic.Semantics.Elaboration.State.html#1498" class="Bound">τ₁</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">()</a>
  <a id="1507" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1513" href="Generic.Semantics.Elaboration.State.html#1513" class="Bound">σ</a><a id="1514" class="Symbol">)</a> <a id="1516" class="Symbol">(</a><a id="1517" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1519" href="Generic.Semantics.Elaboration.State.html#1519" class="Bound">τ</a><a id="1520" class="Symbol">)</a> <a id="1522" href="Generic.Semantics.Elaboration.State.html#1522" class="Bound">eq</a> <a id="1525" class="Symbol">=</a> <a id="1527" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="1532" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Generic.Semantics.Elaboration.State.html#941" class="Function">go</a> <a id="1538" href="Generic.Semantics.Elaboration.State.html#1513" class="Bound">σ</a> <a id="1540" href="Generic.Semantics.Elaboration.State.html#1519" class="Bound">τ</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1549" class="Symbol">(</a><a id="1550" href="Generic.Semantics.Elaboration.State.html#774" class="Function">⊗-inj</a> <a id="1556" class="Symbol">(</a><a id="1557" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="1563" class="Symbol">(</a><a id="1564" href="Generic.Semantics.Elaboration.State.html#670" class="Function">`→-inj</a> <a id="1571" href="Generic.Semantics.Elaboration.State.html#1522" class="Bound">eq</a><a id="1573" class="Symbol">)))))</a>

<a id="1580" class="Comment">-- Environment of the elaboration semantics:</a>
<a id="1625" class="Comment">-- Variables of the translated type</a>
<a id="MVAR"></a><a id="1661" href="Generic.Semantics.Elaboration.State.html#1661" class="Function">MVAR</a> <a id="1666" class="Symbol">:</a> <a id="1668" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="1674" href="Data.Var.html#531" class="Function Operator">─Scoped</a>
<a id="1682" href="Generic.Semantics.Elaboration.State.html#1661" class="Function">MVAR</a> <a id="1687" href="Generic.Semantics.Elaboration.State.html#1687" class="Bound">σ</a> <a id="1689" href="Generic.Semantics.Elaboration.State.html#1689" class="Bound">Γ</a> <a id="1691" class="Symbol">=</a> <a id="1693" href="Data.Var.html#636" class="Datatype">Var</a> <a id="1697" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="1700" href="Generic.Semantics.Elaboration.State.html#1687" class="Bound">σ</a> <a id="1702" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="1704" class="Symbol">(</a><a id="1705" href="Data.List.Base.html#1497" class="Function">L.map</a> <a id="1711" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦_⟧</a> <a id="1716" href="Generic.Semantics.Elaboration.State.html#1689" class="Bound">Γ</a><a id="1717" class="Symbol">)</a>

<a id="1720" class="Comment">-- Because M⟦_⟧ is injective, MVAR is VarLike</a>
<a id="vl^MVAR"></a><a id="1766" href="Generic.Semantics.Elaboration.State.html#1766" class="Function">vl^MVAR</a> <a id="1774" class="Symbol">:</a> <a id="1776" href="Data.Var.Varlike.html#512" class="Record">VarLike</a> <a id="1784" href="Generic.Semantics.Elaboration.State.html#1661" class="Function">MVAR</a>
<a id="1789" href="Data.Var.Varlike.html#590" class="Field">new</a>   <a id="1795" href="Generic.Semantics.Elaboration.State.html#1766" class="Function">vl^MVAR</a>         <a id="1811" class="Symbol">=</a> <a id="1813" href="Data.Var.html#660" class="InductiveConstructor">z</a>
<a id="1815" href="Data.Var.Varlike.html#557" class="Field">th^𝓥</a> <a id="1820" href="Generic.Semantics.Elaboration.State.html#1766" class="Function">vl^MVAR</a> <a id="1828" class="Symbol">{</a><a id="1829" href="Generic.Semantics.Elaboration.State.html#1829" class="Bound">σ</a><a id="1830" class="Symbol">}</a> <a id="1832" href="Generic.Semantics.Elaboration.State.html#1832" class="Bound">v</a> <a id="1834" href="Generic.Semantics.Elaboration.State.html#1834" class="Bound">ρ</a> <a id="1836" class="Symbol">=</a> <a id="1838" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦_⟧</a> <a id="1843" href="Data.Var.html#932" class="Function Operator">V.&lt;$&gt;</a> <a id="1849" class="Symbol">(</a><a id="1850" href="Data.Environment.html#653" class="Field">lookup</a> <a id="1857" href="Generic.Semantics.Elaboration.State.html#1834" class="Bound">ρ</a> <a id="1859" class="Symbol">{</a><a id="1860" href="Generic.Semantics.Elaboration.State.html#1829" class="Bound">σ</a><a id="1861" class="Symbol">}</a> <a id="1863" class="Symbol">(</a><a id="1864" href="Generic.Semantics.Elaboration.State.html#874" class="Function">M⟦⟧-inj</a> <a id="1872" href="Data.Var.html#1356" class="Function Operator">&lt;$&gt;⁻¹</a> <a id="1878" href="Generic.Semantics.Elaboration.State.html#1832" class="Bound">v</a><a id="1879" class="Symbol">))</a>

<a id="1883" class="Comment">-- Target of the Elaboration process</a>
<a id="MTM"></a><a id="1920" href="Generic.Semantics.Elaboration.State.html#1920" class="Function">MTM</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="1932" href="Data.Var.html#531" class="Function Operator">─Scoped</a>
<a id="1940" href="Generic.Semantics.Elaboration.State.html#1920" class="Function">MTM</a> <a id="1944" href="Generic.Semantics.Elaboration.State.html#1944" class="Bound">σ</a> <a id="1946" href="Generic.Semantics.Elaboration.State.html#1946" class="Bound">Γ</a> <a id="1948" class="Symbol">=</a> <a id="1950" href="Generic.Syntax.html#1317" class="Datatype">Tm</a> <a id="1953" href="Generic.Syntax.STLC%252BProduct.html#794" class="Function">STLCPr</a> <a id="1960" class="Symbol">_</a> <a id="1962" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦</a> <a id="1965" href="Generic.Semantics.Elaboration.State.html#1944" class="Bound">σ</a> <a id="1967" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">⟧</a> <a id="1969" class="Symbol">(</a><a id="1970" href="Data.List.Base.html#1497" class="Function">L.map</a> <a id="1976" href="Generic.Semantics.Elaboration.State.html#556" class="Function Operator">M⟦_⟧</a> <a id="1981" href="Generic.Semantics.Elaboration.State.html#1946" class="Bound">Γ</a><a id="1982" class="Symbol">)</a>

<a id="1985" class="Comment">-- Traditional Elaboration Semantics from State to Product</a>
<a id="UnState"></a><a id="2044" href="Generic.Semantics.Elaboration.State.html#2044" class="Function">UnState</a> <a id="2052" class="Symbol">:</a> <a id="2054" href="Generic.Semantics.html#814" class="Record">Semantics</a> <a id="2064" href="Generic.Syntax.STLC%252BState.html#673" class="Function">STLCSt</a> <a id="2071" href="Generic.Semantics.Elaboration.State.html#1661" class="Function">MVAR</a> <a id="2076" href="Generic.Semantics.Elaboration.State.html#1920" class="Function">MTM</a>
<a id="2080" href="Generic.Semantics.html#879" class="Field">Semantics.th^𝓥</a> <a id="2095" href="Generic.Semantics.Elaboration.State.html#2044" class="Function">UnState</a> <a id="2103" class="Symbol">{</a><a id="2104" href="Generic.Semantics.Elaboration.State.html#2104" class="Bound">σ</a><a id="2105" class="Symbol">}</a> <a id="2107" class="Symbol">=</a> <a id="2109" href="Data.Var.Varlike.html#557" class="Field">th^𝓥</a> <a id="2114" href="Generic.Semantics.Elaboration.State.html#1766" class="Function">vl^MVAR</a> <a id="2122" class="Symbol">{</a><a id="2123" href="Generic.Semantics.Elaboration.State.html#2104" class="Bound">σ</a><a id="2124" class="Symbol">}</a>
<a id="2126" href="Generic.Semantics.html#906" class="Field">Semantics.var</a>   <a id="2142" href="Generic.Semantics.Elaboration.State.html#2044" class="Function">UnState</a> <a id="2150" class="Symbol">=</a> <a id="2152" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a>
<a id="2157" href="Generic.Semantics.html#931" class="Field">Semantics.alg</a>   <a id="2173" href="Generic.Semantics.Elaboration.State.html#2044" class="Function">UnState</a> <a id="2181" class="Symbol">=</a> <a id="2183" class="Keyword">let</a> <a id="2187" class="Keyword">open</a> <a id="2192" href="Generic.Syntax.STLC%252BProduct.html#1074" class="Module">Generic.Syntax.STLC+Product.PATTERNS</a> <a id="2229" class="Keyword">in</a> <a id="2232" class="Symbol">λ</a> <a id="2234" class="Keyword">where</a>
  <a id="2242" class="Symbol">(</a><a id="2243" href="Generic.Syntax.STLC%252BState.html#425" class="InductiveConstructor">App</a> <a id="2247" href="Generic.Semantics.Elaboration.State.html#2247" class="Bound">σ</a> <a id="2249" href="Generic.Semantics.Elaboration.State.html#2249" class="Bound">τ</a> <a id="2251" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2253" href="Generic.Semantics.Elaboration.State.html#2253" class="Bound">f</a> <a id="2255" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2257" href="Generic.Semantics.Elaboration.State.html#2257" class="Bound">t</a> <a id="2259" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2261" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2265" class="Symbol">)</a> <a id="2267" class="Symbol">→</a> <a id="2269" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2273" href="Generic.Semantics.Elaboration.State.html#2253" class="Bound">f</a> <a id="2275" href="Generic.Semantics.Elaboration.State.html#2257" class="Bound">t</a>
  <a id="2279" class="Symbol">(</a><a id="2280" href="Generic.Syntax.STLC%252BState.html#457" class="InductiveConstructor">Lam</a> <a id="2284" href="Generic.Semantics.Elaboration.State.html#2284" class="Bound">σ</a> <a id="2286" href="Generic.Semantics.Elaboration.State.html#2286" class="Bound">τ</a> <a id="2288" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2290" href="Generic.Semantics.Elaboration.State.html#2290" class="Bound">b</a> <a id="2292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2294" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2298" class="Symbol">)</a>     <a id="2304" class="Symbol">→</a> <a id="2306" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2310" class="Symbol">(</a><a id="2311" href="Data.Var.Varlike.html#1200" class="Function">reify</a> <a id="2317" class="Symbol">{</a><a id="2318" class="Argument">𝓒</a> <a id="2320" class="Symbol">=</a> <a id="2322" href="Generic.Semantics.Elaboration.State.html#1920" class="Function">MTM</a><a id="2325" class="Symbol">}</a> <a id="2327" href="Generic.Semantics.Elaboration.State.html#1766" class="Function">vl^MVAR</a> <a id="2335" class="Symbol">(</a><a id="2336" href="Generic.Semantics.Elaboration.State.html#2284" class="Bound">σ</a> <a id="2338" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2340" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2342" class="Symbol">)</a> <a id="2344" href="Generic.Semantics.Elaboration.State.html#2286" class="Bound">τ</a> <a id="2346" href="Generic.Semantics.Elaboration.State.html#2290" class="Bound">b</a><a id="2347" class="Symbol">)</a>
  <a id="2351" class="Symbol">(</a><a id="2352" href="Generic.Syntax.STLC%252BState.html#499" class="InductiveConstructor">One</a>     <a id="2360" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2362" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2366" class="Symbol">)</a>         <a id="2376" class="Symbol">→</a> <a id="2378" href="Generic.Syntax.STLC%252BProduct.html#1338" class="InductiveConstructor">ONE</a>
  <a id="2384" class="Symbol">(</a><a id="2385" href="Generic.Syntax.STLC%252BState.html#548" class="InductiveConstructor">Get</a>     <a id="2393" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2395" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2399" class="Symbol">)</a>         <a id="2409" class="Symbol">→</a> <a id="2411" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2420" class="Symbol">(</a><a id="2421" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a> <a id="2426" href="Data.Var.html#660" class="InductiveConstructor">z</a><a id="2427" class="Symbol">)</a> <a id="2429" class="Symbol">(</a><a id="2430" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a> <a id="2435" href="Data.Var.html#660" class="InductiveConstructor">z</a><a id="2436" class="Symbol">))</a>
  <a id="2441" class="Symbol">(</a><a id="2442" href="Generic.Syntax.STLC%252BState.html#564" class="InductiveConstructor">Put</a>     <a id="2450" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2452" href="Generic.Semantics.Elaboration.State.html#2452" class="Bound">t</a> <a id="2454" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2456" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2460" class="Symbol">)</a>     <a id="2466" class="Symbol">→</a> <a id="2468" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2472" class="Symbol">(</a><a id="2473" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2477" class="Symbol">(</a><a id="2478" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a> <a id="2483" href="Data.Var.html#660" class="InductiveConstructor">z</a><a id="2484" class="Symbol">)</a> <a id="2486" href="Generic.Syntax.STLC%252BProduct.html#1338" class="InductiveConstructor">ONE</a><a id="2489" class="Symbol">)</a>
  <a id="2493" class="Symbol">(</a><a id="2494" href="Generic.Syntax.STLC%252BState.html#618" class="InductiveConstructor">Ret</a> <a id="2498" href="Generic.Semantics.Elaboration.State.html#2498" class="Bound">σ</a>   <a id="2502" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2504" href="Generic.Semantics.Elaboration.State.html#2504" class="Bound">t</a> <a id="2506" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2508" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2512" class="Symbol">)</a>     <a id="2518" class="Symbol">→</a> <a id="2520" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2524" class="Symbol">(</a><a id="2525" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2529" class="Symbol">(</a><a id="2530" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a> <a id="2535" href="Data.Var.html#660" class="InductiveConstructor">z</a><a id="2536" class="Symbol">)</a> <a id="2538" class="Symbol">(</a><a id="2539" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2543" href="Data.Environment.html#2438" class="Function">extend</a> <a id="2550" href="Generic.Semantics.Elaboration.State.html#2504" class="Bound">t</a><a id="2551" class="Symbol">))</a>
  <a id="2556" class="Symbol">(</a><a id="2557" href="Generic.Syntax.STLC%252BState.html#642" class="InductiveConstructor">Bnd</a> <a id="2561" href="Generic.Semantics.Elaboration.State.html#2561" class="Bound">σ</a> <a id="2563" href="Generic.Semantics.Elaboration.State.html#2563" class="Bound">τ</a> <a id="2565" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2567" href="Generic.Semantics.Elaboration.State.html#2567" class="Bound">m</a> <a id="2569" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2571" href="Generic.Semantics.Elaboration.State.html#2571" class="Bound">f</a> <a id="2573" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2575" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2579" class="Symbol">)</a> <a id="2581" class="Symbol">→</a> <a id="2583" class="Keyword">let</a> <a id="2587" href="Generic.Semantics.Elaboration.State.html#2587" class="Bound">f′</a> <a id="2590" class="Symbol">=</a> <a id="2592" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2596" href="Data.Environment.html#2438" class="Function">extend</a> <a id="2603" href="Generic.Semantics.Elaboration.State.html#2571" class="Bound">f</a> <a id="2605" class="Symbol">;</a> <a id="2607" href="Generic.Semantics.Elaboration.State.html#2607" class="Bound">m′</a> <a id="2610" class="Symbol">=</a> <a id="2612" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2616" href="Data.Environment.html#2438" class="Function">extend</a> <a id="2623" href="Generic.Semantics.Elaboration.State.html#2567" class="Bound">m</a> <a id="2625" class="Keyword">in</a>
                             <a id="2657" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2661" class="Symbol">(</a><a id="2662" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2666" class="Symbol">(</a><a id="2667" href="Generic.Syntax.STLC%252BProduct.html#1369" class="Function">CUR</a> <a id="2671" href="Generic.Semantics.Elaboration.State.html#2587" class="Bound">f′</a><a id="2673" class="Symbol">)</a> <a id="2675" class="Symbol">(</a><a id="2676" href="Generic.Syntax.STLC%252BProduct.html#1519" class="Function">SWP</a> <a id="2680" class="Symbol">(</a><a id="2681" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2685" href="Generic.Semantics.Elaboration.State.html#2607" class="Bound">m′</a> <a id="2688" class="Symbol">(</a><a id="2689" href="Generic.Syntax.html#1361" class="InductiveConstructor">`var</a> <a id="2694" href="Data.Var.html#660" class="InductiveConstructor">z</a><a id="2695" class="Symbol">))))</a>
</pre></body></html>