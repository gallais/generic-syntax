<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Semantics.Elaboration.State</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--sized-types</a> <a id="34" class="Symbol">#-}</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Generic.Semantics.Elaboration.State.html" class="Module">Generic.Semantics.Elaboration.State</a> <a id="82" class="Keyword">where</a>

<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Data.Product.html" class="Module">Data.Product</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="141" class="Symbol">as</a> <a id="144" class="Module">L</a> <a id="146" class="Keyword">hiding</a> <a id="153" class="Symbol">(</a><a id="154" href="Data.List.Base.html#5961" class="Function">lookup</a><a id="160" class="Symbol">)</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="Function.html" class="Module">Function</a>

<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Data.Var.html" class="Module">Data.Var</a> <a id="255" class="Symbol">as</a> <a id="258" class="Module">V</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Data.Var.Varlike.html" class="Module">Data.Var.Varlike</a>
<a id="289" class="Keyword">open</a> <a id="294" class="Keyword">import</a> <a id="301" href="Data.Environment.html" class="Module">Data.Environment</a> <a id="318" class="Symbol">as</a> <a id="321" class="Module">E</a>
<a id="323" class="Keyword">open</a> <a id="328" class="Keyword">import</a> <a id="335" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Generic.Syntax.STLC%252BState.html" class="Module">Generic.Syntax.STLC+State</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Generic.Syntax.STLC%252BProduct.html" class="Module">Generic.Syntax.STLC+Product</a>
<a id="428" class="Keyword">open</a> <a id="433" class="Keyword">import</a> <a id="440" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Generic.Semantics.Syntactic.html" class="Module">Generic.Semantics.Syntactic</a>

<a id="499" class="Comment">-- Importing the proven-injective type translation</a>

<a id="M⟦_⟧"></a><a id="551" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦_⟧</a> <a id="556" class="Symbol">:</a> <a id="558" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="564" class="Symbol">→</a> <a id="566" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a>
<a id="572" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="575" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a>     <a id="581" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="583" class="Symbol">=</a> <a id="585" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a>
<a id="587" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="590" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a>     <a id="596" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="598" class="Symbol">=</a> <a id="600" href="Generic.Syntax.STLC%252BProduct.html#433" class="InductiveConstructor">𝟙</a>
<a id="602" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="605" href="Generic.Semantics.Elaboration.State.html#605" class="Bound">σ</a> <a id="607" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="610" href="Generic.Semantics.Elaboration.State.html#610" class="Bound">τ</a> <a id="612" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="614" class="Symbol">=</a> <a id="616" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="619" href="Generic.Semantics.Elaboration.State.html#605" class="Bound">σ</a> <a id="621" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="623" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="626" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="629" href="Generic.Semantics.Elaboration.State.html#610" class="Bound">τ</a> <a id="631" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a>
<a id="633" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="636" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="638" href="Generic.Semantics.Elaboration.State.html#638" class="Bound">σ</a>   <a id="642" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="644" class="Symbol">=</a> <a id="646" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a> <a id="648" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="651" class="Symbol">(</a><a id="652" href="Generic.Syntax.STLC%252BProduct.html#419" class="InductiveConstructor">α</a> <a id="654" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="656" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="659" href="Generic.Semantics.Elaboration.State.html#638" class="Bound">σ</a> <a id="661" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a><a id="662" class="Symbol">)</a>

<a id="`→-inj"></a><a id="665" href="Generic.Semantics.Elaboration.State.html#665" class="Function">`→-inj</a> <a id="672" class="Symbol">:</a> <a id="674" class="Symbol">{</a><a id="675" href="Generic.Semantics.Elaboration.State.html#675" class="Bound">σ</a> <a id="677" href="Generic.Semantics.Elaboration.State.html#677" class="Bound">τ</a> <a id="679" href="Generic.Semantics.Elaboration.State.html#679" class="Bound">σ₁</a> <a id="682" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ₁</a> <a id="685" class="Symbol">:</a> <a id="687" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a><a id="692" class="Symbol">}</a> <a id="694" class="Symbol">→</a> <a id="696" class="Symbol">(</a><a id="697" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a> <a id="703" href="Function.html#3097" class="Function Operator">∋</a> <a id="705" href="Generic.Semantics.Elaboration.State.html#675" class="Bound">σ</a> <a id="707" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="710" href="Generic.Semantics.Elaboration.State.html#677" class="Bound">τ</a><a id="711" class="Symbol">)</a> <a id="713" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="715" href="Generic.Semantics.Elaboration.State.html#679" class="Bound">σ₁</a> <a id="718" href="Generic.Syntax.STLC%252BProduct.html#447" class="InductiveConstructor Operator">`→</a> <a id="721" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ₁</a> <a id="724" class="Symbol">→</a> <a id="726" href="Generic.Semantics.Elaboration.State.html#675" class="Bound">σ</a> <a id="728" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="730" href="Generic.Semantics.Elaboration.State.html#679" class="Bound">σ₁</a> <a id="733" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="735" href="Generic.Semantics.Elaboration.State.html#677" class="Bound">τ</a> <a id="737" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="739" href="Generic.Semantics.Elaboration.State.html#682" class="Bound">τ₁</a>
<a id="742" href="Generic.Semantics.Elaboration.State.html#665" class="Function">`→-inj</a> <a id="749" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="754" class="Symbol">=</a> <a id="756" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="761" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="763" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="⊗-inj"></a><a id="769" href="Generic.Semantics.Elaboration.State.html#769" class="Function">⊗-inj</a> <a id="775" class="Symbol">:</a> <a id="777" class="Symbol">{</a><a id="778" href="Generic.Semantics.Elaboration.State.html#778" class="Bound">σ</a> <a id="780" href="Generic.Semantics.Elaboration.State.html#780" class="Bound">τ</a> <a id="782" href="Generic.Semantics.Elaboration.State.html#782" class="Bound">σ₁</a> <a id="785" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ₁</a> <a id="788" class="Symbol">:</a> <a id="790" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a><a id="795" class="Symbol">}</a> <a id="797" class="Symbol">→</a> <a id="799" class="Symbol">(</a><a id="800" href="Generic.Syntax.STLC%252BProduct.html#399" class="Datatype">PType</a> <a id="806" href="Function.html#3097" class="Function Operator">∋</a> <a id="808" href="Generic.Semantics.Elaboration.State.html#778" class="Bound">σ</a> <a id="810" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="812" href="Generic.Semantics.Elaboration.State.html#780" class="Bound">τ</a><a id="813" class="Symbol">)</a> <a id="815" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="817" href="Generic.Semantics.Elaboration.State.html#782" class="Bound">σ₁</a> <a id="820" href="Generic.Syntax.STLC%252BProduct.html#478" class="InductiveConstructor Operator">⊗</a> <a id="822" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ₁</a> <a id="825" class="Symbol">→</a> <a id="827" href="Generic.Semantics.Elaboration.State.html#778" class="Bound">σ</a> <a id="829" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="831" href="Generic.Semantics.Elaboration.State.html#782" class="Bound">σ₁</a> <a id="834" href="Data.Product.html#1389" class="Function Operator">×</a> <a id="836" href="Generic.Semantics.Elaboration.State.html#780" class="Bound">τ</a> <a id="838" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="840" href="Generic.Semantics.Elaboration.State.html#785" class="Bound">τ₁</a>
<a id="843" href="Generic.Semantics.Elaboration.State.html#769" class="Function">⊗-inj</a> <a id="849" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="854" class="Symbol">=</a> <a id="856" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="861" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="863" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

<a id="M⟦⟧-inj"></a><a id="869" href="Generic.Semantics.Elaboration.State.html#869" class="Function">M⟦⟧-inj</a> <a id="877" class="Symbol">:</a> <a id="879" href="Data.Var.html#1013" class="Record">Injective</a> <a id="889" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦_⟧</a>
<a id="894" href="Generic.Semantics.Elaboration.State.html#869" class="Function">M⟦⟧-inj</a> <a id="902" class="Symbol">=</a> <a id="904" class="Keyword">record</a> <a id="911" class="Symbol">{</a> <a id="913" href="Data.Var.html#1081" class="Field">inj</a> <a id="917" class="Symbol">=</a> <a id="919" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="922" class="Symbol">_</a> <a id="924" class="Symbol">_</a> <a id="926" class="Symbol">}</a> <a id="928" class="Keyword">where</a>
  <a id="936" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="939" class="Symbol">:</a> <a id="941" class="Symbol">(</a><a id="942" href="Generic.Semantics.Elaboration.State.html#942" class="Bound">σ</a> <a id="944" href="Generic.Semantics.Elaboration.State.html#944" class="Bound">τ</a> <a id="946" class="Symbol">:</a> <a id="948" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a><a id="953" class="Symbol">)</a> <a id="955" class="Symbol">→</a> <a id="957" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="960" href="Generic.Semantics.Elaboration.State.html#942" class="Bound">σ</a> <a id="962" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="964" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="966" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="969" href="Generic.Semantics.Elaboration.State.html#944" class="Bound">τ</a> <a id="971" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="973" class="Symbol">→</a> <a id="975" href="Generic.Semantics.Elaboration.State.html#942" class="Bound">σ</a> <a id="977" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="979" href="Generic.Semantics.Elaboration.State.html#944" class="Bound">τ</a>
  <a id="983" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="986" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="988" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="990" href="Generic.Semantics.Elaboration.State.html#990" class="Bound">eq</a> <a id="993" class="Symbol">=</a> <a id="995" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
  <a id="1002" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1005" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1007" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1009" class="Symbol">()</a>
  <a id="1014" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1017" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1019" class="Symbol">(</a><a id="1020" href="Generic.Semantics.Elaboration.State.html#1020" class="Bound">τ</a> <a id="1022" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1025" href="Generic.Semantics.Elaboration.State.html#1025" class="Bound">τ₁</a><a id="1027" class="Symbol">)</a> <a id="1029" class="Symbol">()</a>
  <a id="1034" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1037" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1039" class="Symbol">(</a><a id="1040" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1042" href="Generic.Semantics.Elaboration.State.html#1042" class="Bound">τ</a><a id="1043" class="Symbol">)</a> <a id="1045" class="Symbol">()</a>
  <a id="1050" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1053" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1055" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1057" class="Symbol">()</a>
  <a id="1062" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1065" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1067" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1069" href="Generic.Semantics.Elaboration.State.html#1069" class="Bound">eq</a> <a id="1072" class="Symbol">=</a> <a id="1074" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>
  <a id="1081" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1084" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Generic.Semantics.Elaboration.State.html#1087" class="Bound">τ</a> <a id="1089" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1092" href="Generic.Semantics.Elaboration.State.html#1092" class="Bound">τ₁</a><a id="1094" class="Symbol">)</a> <a id="1096" class="Symbol">()</a>
  <a id="1101" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1104" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1106" class="Symbol">(</a><a id="1107" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1109" href="Generic.Semantics.Elaboration.State.html#1109" class="Bound">τ</a><a id="1110" class="Symbol">)</a> <a id="1112" class="Symbol">()</a>
  <a id="1117" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Generic.Semantics.Elaboration.State.html#1121" class="Bound">σ</a> <a id="1123" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1126" href="Generic.Semantics.Elaboration.State.html#1126" class="Bound">σ₁</a><a id="1128" class="Symbol">)</a> <a id="1130" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1132" class="Symbol">()</a>
  <a id="1137" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1140" class="Symbol">(</a><a id="1141" href="Generic.Semantics.Elaboration.State.html#1141" class="Bound">σ</a> <a id="1143" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1146" href="Generic.Semantics.Elaboration.State.html#1146" class="Bound">σ₁</a><a id="1148" class="Symbol">)</a> <a id="1150" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1152" class="Symbol">()</a>
  <a id="1157" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1160" class="Symbol">(</a><a id="1161" href="Generic.Semantics.Elaboration.State.html#1161" class="Bound">σ</a> <a id="1163" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1166" href="Generic.Semantics.Elaboration.State.html#1166" class="Bound">σ₁</a><a id="1168" class="Symbol">)</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Generic.Semantics.Elaboration.State.html#1171" class="Bound">τ</a> <a id="1173" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1176" href="Generic.Semantics.Elaboration.State.html#1176" class="Bound">τ₁</a><a id="1178" class="Symbol">)</a> <a id="1180" href="Generic.Semantics.Elaboration.State.html#1180" class="Bound">eq</a> <a id="1183" class="Symbol">=</a>
    <a id="1189" href="Relation.Binary.PropositionalEquality.html#1362" class="Function">cong₂</a> <a id="1195" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">_`→_</a> <a id="1200" class="Symbol">(</a><a id="1201" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1204" href="Generic.Semantics.Elaboration.State.html#1161" class="Bound">σ</a> <a id="1206" href="Generic.Semantics.Elaboration.State.html#1171" class="Bound">τ</a> <a id="1208" class="Symbol">(</a><a id="1209" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="1215" class="Symbol">(</a><a id="1216" href="Generic.Semantics.Elaboration.State.html#665" class="Function">`→-inj</a> <a id="1223" href="Generic.Semantics.Elaboration.State.html#1180" class="Bound">eq</a><a id="1225" class="Symbol">)))</a> <a id="1229" class="Symbol">(</a><a id="1230" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1233" href="Generic.Semantics.Elaboration.State.html#1166" class="Bound">σ₁</a> <a id="1236" href="Generic.Semantics.Elaboration.State.html#1176" class="Bound">τ₁</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1246" class="Symbol">(</a><a id="1247" href="Generic.Semantics.Elaboration.State.html#665" class="Function">`→-inj</a> <a id="1254" href="Generic.Semantics.Elaboration.State.html#1180" class="Bound">eq</a><a id="1256" class="Symbol">)))</a>
  <a id="1262" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1265" class="Symbol">(</a><a id="1266" href="Generic.Semantics.Elaboration.State.html#1266" class="Bound">σ</a> <a id="1268" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1271" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a><a id="1272" class="Symbol">)</a> <a id="1274" class="Symbol">(</a><a id="1275" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1277" href="Generic.Semantics.Elaboration.State.html#1277" class="Bound">τ</a><a id="1278" class="Symbol">)</a> <a id="1280" class="Symbol">()</a>
  <a id="1285" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1288" class="Symbol">(</a><a id="1289" href="Generic.Semantics.Elaboration.State.html#1289" class="Bound">σ</a> <a id="1291" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1294" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a><a id="1295" class="Symbol">)</a> <a id="1297" class="Symbol">(</a><a id="1298" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1300" href="Generic.Semantics.Elaboration.State.html#1300" class="Bound">τ</a><a id="1301" class="Symbol">)</a> <a id="1303" class="Symbol">()</a>
  <a id="1308" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1311" class="Symbol">(</a><a id="1312" href="Generic.Semantics.Elaboration.State.html#1312" class="Bound">σ</a> <a id="1314" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1317" class="Symbol">(</a><a id="1318" href="Generic.Semantics.Elaboration.State.html#1318" class="Bound">σ₁</a> <a id="1321" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1324" href="Generic.Semantics.Elaboration.State.html#1324" class="Bound">σ₂</a><a id="1326" class="Symbol">))</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1332" href="Generic.Semantics.Elaboration.State.html#1332" class="Bound">τ</a><a id="1333" class="Symbol">)</a> <a id="1335" class="Symbol">()</a>
  <a id="1340" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1343" class="Symbol">(</a><a id="1344" href="Generic.Semantics.Elaboration.State.html#1344" class="Bound">σ</a> <a id="1346" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1349" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1351" href="Generic.Semantics.Elaboration.State.html#1351" class="Bound">σ₁</a><a id="1353" class="Symbol">)</a> <a id="1355" class="Symbol">(</a><a id="1356" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1358" href="Generic.Semantics.Elaboration.State.html#1358" class="Bound">τ</a><a id="1359" class="Symbol">)</a> <a id="1361" class="Symbol">()</a>
  <a id="1366" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1372" href="Generic.Semantics.Elaboration.State.html#1372" class="Bound">σ</a><a id="1373" class="Symbol">)</a> <a id="1375" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a> <a id="1377" class="Symbol">()</a>
  <a id="1382" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1388" href="Generic.Semantics.Elaboration.State.html#1388" class="Bound">σ</a><a id="1389" class="Symbol">)</a> <a id="1391" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a> <a id="1393" class="Symbol">()</a>
  <a id="1398" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1401" class="Symbol">(</a><a id="1402" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1404" href="Generic.Semantics.Elaboration.State.html#1404" class="Bound">σ</a><a id="1405" class="Symbol">)</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Generic.Semantics.Elaboration.State.html#1408" class="Bound">τ</a> <a id="1410" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1413" href="Generic.Syntax.STLC%252BState.html#278" class="InductiveConstructor">α</a><a id="1414" class="Symbol">)</a> <a id="1416" class="Symbol">()</a>
  <a id="1421" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1424" class="Symbol">(</a><a id="1425" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1427" href="Generic.Semantics.Elaboration.State.html#1427" class="Bound">σ</a><a id="1428" class="Symbol">)</a> <a id="1430" class="Symbol">(</a><a id="1431" href="Generic.Semantics.Elaboration.State.html#1431" class="Bound">τ</a> <a id="1433" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1436" href="Generic.Syntax.STLC%252BState.html#292" class="InductiveConstructor">𝟙</a><a id="1437" class="Symbol">)</a> <a id="1439" class="Symbol">()</a>
  <a id="1444" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1447" class="Symbol">(</a><a id="1448" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1450" href="Generic.Semantics.Elaboration.State.html#1450" class="Bound">σ</a><a id="1451" class="Symbol">)</a> <a id="1453" class="Symbol">(</a><a id="1454" href="Generic.Semantics.Elaboration.State.html#1454" class="Bound">τ</a> <a id="1456" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1459" class="Symbol">(</a><a id="1460" href="Generic.Semantics.Elaboration.State.html#1460" class="Bound">τ₁</a> <a id="1463" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1466" href="Generic.Semantics.Elaboration.State.html#1466" class="Bound">τ₂</a><a id="1468" class="Symbol">))</a> <a id="1471" class="Symbol">()</a>
  <a id="1476" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1479" class="Symbol">(</a><a id="1480" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1482" href="Generic.Semantics.Elaboration.State.html#1482" class="Bound">σ</a><a id="1483" class="Symbol">)</a> <a id="1485" class="Symbol">(</a><a id="1486" href="Generic.Semantics.Elaboration.State.html#1486" class="Bound">τ</a> <a id="1488" href="Generic.Syntax.STLC%252BState.html#306" class="InductiveConstructor Operator">`→</a> <a id="1491" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1493" href="Generic.Semantics.Elaboration.State.html#1493" class="Bound">τ₁</a><a id="1495" class="Symbol">)</a> <a id="1497" class="Symbol">()</a>
  <a id="1502" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1505" class="Symbol">(</a><a id="1506" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1508" href="Generic.Semantics.Elaboration.State.html#1508" class="Bound">σ</a><a id="1509" class="Symbol">)</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1514" href="Generic.Semantics.Elaboration.State.html#1514" class="Bound">τ</a><a id="1515" class="Symbol">)</a> <a id="1517" href="Generic.Semantics.Elaboration.State.html#1517" class="Bound">eq</a> <a id="1520" class="Symbol">=</a> <a id="1522" href="Relation.Binary.PropositionalEquality.Core.html#1045" class="Function">cong</a> <a id="1527" href="Generic.Syntax.STLC%252BState.html#337" class="InductiveConstructor">M</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Generic.Semantics.Elaboration.State.html#936" class="Function">go</a> <a id="1533" href="Generic.Semantics.Elaboration.State.html#1508" class="Bound">σ</a> <a id="1535" href="Generic.Semantics.Elaboration.State.html#1514" class="Bound">τ</a> <a id="1537" class="Symbol">(</a><a id="1538" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1544" class="Symbol">(</a><a id="1545" href="Generic.Semantics.Elaboration.State.html#769" class="Function">⊗-inj</a> <a id="1551" class="Symbol">(</a><a id="1552" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a> <a id="1558" class="Symbol">(</a><a id="1559" href="Generic.Semantics.Elaboration.State.html#665" class="Function">`→-inj</a> <a id="1566" href="Generic.Semantics.Elaboration.State.html#1517" class="Bound">eq</a><a id="1568" class="Symbol">)))))</a>

<a id="1575" class="Comment">-- Environment of the elaboration semantics:</a>
<a id="1620" class="Comment">-- Variables of the translated type</a>
<a id="MVAR"></a><a id="1656" href="Generic.Semantics.Elaboration.State.html#1656" class="Function">MVAR</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="1669" href="Data.Var.html#511" class="Function Operator">─Scoped</a>
<a id="1677" href="Generic.Semantics.Elaboration.State.html#1656" class="Function">MVAR</a> <a id="1682" href="Generic.Semantics.Elaboration.State.html#1682" class="Bound">σ</a> <a id="1684" href="Generic.Semantics.Elaboration.State.html#1684" class="Bound">Γ</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Data.Var.html#616" class="Datatype">Var</a> <a id="1692" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="1695" href="Generic.Semantics.Elaboration.State.html#1682" class="Bound">σ</a> <a id="1697" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="1699" class="Symbol">(</a><a id="1700" href="Data.List.Base.html#1186" class="Function">L.map</a> <a id="1706" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦_⟧</a> <a id="1711" href="Generic.Semantics.Elaboration.State.html#1684" class="Bound">Γ</a><a id="1712" class="Symbol">)</a>

<a id="1715" class="Comment">-- Because M⟦_⟧ is injective, MVAR is VarLike</a>
<a id="vl^MVAR"></a><a id="1761" href="Generic.Semantics.Elaboration.State.html#1761" class="Function">vl^MVAR</a> <a id="1769" class="Symbol">:</a> <a id="1771" href="Data.Var.Varlike.html#512" class="Record">VarLike</a> <a id="1779" href="Generic.Semantics.Elaboration.State.html#1656" class="Function">MVAR</a>
<a id="1784" href="Data.Var.Varlike.html#590" class="Field">new</a>   <a id="1790" href="Generic.Semantics.Elaboration.State.html#1761" class="Function">vl^MVAR</a>         <a id="1806" class="Symbol">=</a> <a id="1808" href="Data.Var.html#640" class="InductiveConstructor">z</a>
<a id="1810" href="Data.Var.Varlike.html#557" class="Field">th^𝓥</a> <a id="1815" href="Generic.Semantics.Elaboration.State.html#1761" class="Function">vl^MVAR</a> <a id="1823" class="Symbol">{</a><a id="1824" href="Generic.Semantics.Elaboration.State.html#1824" class="Bound">σ</a><a id="1825" class="Symbol">}</a> <a id="1827" href="Generic.Semantics.Elaboration.State.html#1827" class="Bound">v</a> <a id="1829" href="Generic.Semantics.Elaboration.State.html#1829" class="Bound">ρ</a> <a id="1831" class="Symbol">=</a> <a id="1833" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦_⟧</a> <a id="1838" href="Data.Var.html#912" class="Function Operator">V.&lt;$&gt;</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Data.Environment.html#536" class="Field">lookup</a> <a id="1852" href="Generic.Semantics.Elaboration.State.html#1829" class="Bound">ρ</a> <a id="1854" class="Symbol">{</a><a id="1855" href="Generic.Semantics.Elaboration.State.html#1824" class="Bound">σ</a><a id="1856" class="Symbol">}</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Generic.Semantics.Elaboration.State.html#869" class="Function">M⟦⟧-inj</a> <a id="1867" href="Data.Var.html#1336" class="Function Operator">&lt;$&gt;⁻¹</a> <a id="1873" href="Generic.Semantics.Elaboration.State.html#1827" class="Bound">v</a><a id="1874" class="Symbol">))</a>

<a id="1878" class="Comment">-- Target of the Elaboration process</a>
<a id="MTM"></a><a id="1915" href="Generic.Semantics.Elaboration.State.html#1915" class="Function">MTM</a> <a id="1919" class="Symbol">:</a> <a id="1921" href="Generic.Syntax.STLC%252BState.html#258" class="Datatype">MType</a> <a id="1927" href="Data.Var.html#511" class="Function Operator">─Scoped</a>
<a id="1935" href="Generic.Semantics.Elaboration.State.html#1915" class="Function">MTM</a> <a id="1939" href="Generic.Semantics.Elaboration.State.html#1939" class="Bound">σ</a> <a id="1941" href="Generic.Semantics.Elaboration.State.html#1941" class="Bound">Γ</a> <a id="1943" class="Symbol">=</a> <a id="1945" href="Generic.Syntax.html#1237" class="Datatype">Tm</a> <a id="1948" href="Generic.Syntax.STLC%252BProduct.html#794" class="Function">STLCPr</a> <a id="1955" class="Symbol">_</a> <a id="1957" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦</a> <a id="1960" href="Generic.Semantics.Elaboration.State.html#1939" class="Bound">σ</a> <a id="1962" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">⟧</a> <a id="1964" class="Symbol">(</a><a id="1965" href="Data.List.Base.html#1186" class="Function">L.map</a> <a id="1971" href="Generic.Semantics.Elaboration.State.html#551" class="Function Operator">M⟦_⟧</a> <a id="1976" href="Generic.Semantics.Elaboration.State.html#1941" class="Bound">Γ</a><a id="1977" class="Symbol">)</a>

<a id="1980" class="Comment">-- Traditional Elaboration Semantics from State to Product</a>
<a id="UnState"></a><a id="2039" href="Generic.Semantics.Elaboration.State.html#2039" class="Function">UnState</a> <a id="2047" class="Symbol">:</a> <a id="2049" href="Generic.Semantics.html#718" class="Record">Semantics</a> <a id="2059" href="Generic.Syntax.STLC%252BState.html#673" class="Function">STLCSt</a> <a id="2066" href="Generic.Semantics.Elaboration.State.html#1656" class="Function">MVAR</a> <a id="2071" href="Generic.Semantics.Elaboration.State.html#1915" class="Function">MTM</a>
<a id="2075" href="Generic.Semantics.html#783" class="Field">Semantics.th^𝓥</a> <a id="2090" href="Generic.Semantics.Elaboration.State.html#2039" class="Function">UnState</a> <a id="2098" class="Symbol">{</a><a id="2099" href="Generic.Semantics.Elaboration.State.html#2099" class="Bound">σ</a><a id="2100" class="Symbol">}</a> <a id="2102" class="Symbol">=</a> <a id="2104" href="Data.Var.Varlike.html#557" class="Field">th^𝓥</a> <a id="2109" href="Generic.Semantics.Elaboration.State.html#1761" class="Function">vl^MVAR</a> <a id="2117" class="Symbol">{</a><a id="2118" href="Generic.Semantics.Elaboration.State.html#2099" class="Bound">σ</a><a id="2119" class="Symbol">}</a>
<a id="2121" href="Generic.Semantics.html#810" class="Field">Semantics.var</a>   <a id="2137" href="Generic.Semantics.Elaboration.State.html#2039" class="Function">UnState</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a>
<a id="2152" href="Generic.Semantics.html#835" class="Field">Semantics.alg</a>   <a id="2168" href="Generic.Semantics.Elaboration.State.html#2039" class="Function">UnState</a> <a id="2176" class="Symbol">=</a> <a id="2178" class="Keyword">let</a> <a id="2182" class="Keyword">open</a> <a id="2187" href="Generic.Syntax.STLC%252BProduct.html#1074" class="Module">Generic.Syntax.STLC+Product.PATTERNS</a> <a id="2224" class="Keyword">in</a> <a id="2227" class="Symbol">λ</a> <a id="2229" class="Keyword">where</a>
  <a id="2237" class="Symbol">(</a><a id="2238" href="Generic.Syntax.STLC%252BState.html#425" class="InductiveConstructor">App</a> <a id="2242" href="Generic.Semantics.Elaboration.State.html#2242" class="Bound">σ</a> <a id="2244" href="Generic.Semantics.Elaboration.State.html#2244" class="Bound">τ</a> <a id="2246" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2248" href="Generic.Semantics.Elaboration.State.html#2248" class="Bound">f</a> <a id="2250" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2252" href="Generic.Semantics.Elaboration.State.html#2252" class="Bound">t</a> <a id="2254" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2256" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2260" class="Symbol">)</a> <a id="2262" class="Symbol">→</a> <a id="2264" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2268" href="Generic.Semantics.Elaboration.State.html#2248" class="Bound">f</a> <a id="2270" href="Generic.Semantics.Elaboration.State.html#2252" class="Bound">t</a>
  <a id="2274" class="Symbol">(</a><a id="2275" href="Generic.Syntax.STLC%252BState.html#457" class="InductiveConstructor">Lam</a> <a id="2279" href="Generic.Semantics.Elaboration.State.html#2279" class="Bound">σ</a> <a id="2281" href="Generic.Semantics.Elaboration.State.html#2281" class="Bound">τ</a> <a id="2283" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2285" href="Generic.Semantics.Elaboration.State.html#2285" class="Bound">b</a> <a id="2287" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2289" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2293" class="Symbol">)</a>     <a id="2299" class="Symbol">→</a> <a id="2301" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2305" class="Symbol">(</a><a id="2306" href="Data.Var.Varlike.html#1200" class="Function">reify</a> <a id="2312" class="Symbol">{</a><a id="2313" class="Argument">𝓒</a> <a id="2315" class="Symbol">=</a> <a id="2317" href="Generic.Semantics.Elaboration.State.html#1915" class="Function">MTM</a><a id="2320" class="Symbol">}</a> <a id="2322" href="Generic.Semantics.Elaboration.State.html#1761" class="Function">vl^MVAR</a> <a id="2330" class="Symbol">(</a><a id="2331" href="Generic.Semantics.Elaboration.State.html#2279" class="Bound">σ</a> <a id="2333" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2335" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a><a id="2337" class="Symbol">)</a> <a id="2339" href="Generic.Semantics.Elaboration.State.html#2281" class="Bound">τ</a> <a id="2341" href="Generic.Semantics.Elaboration.State.html#2285" class="Bound">b</a><a id="2342" class="Symbol">)</a>
  <a id="2346" class="Symbol">(</a><a id="2347" href="Generic.Syntax.STLC%252BState.html#499" class="InductiveConstructor">One</a>     <a id="2355" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2357" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2361" class="Symbol">)</a>         <a id="2371" class="Symbol">→</a> <a id="2373" href="Generic.Syntax.STLC%252BProduct.html#1338" class="InductiveConstructor">ONE</a>
  <a id="2379" class="Symbol">(</a><a id="2380" href="Generic.Syntax.STLC%252BState.html#548" class="InductiveConstructor">Get</a>     <a id="2388" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2390" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2394" class="Symbol">)</a>         <a id="2404" class="Symbol">→</a> <a id="2406" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2410" class="Symbol">(</a><a id="2411" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="2421" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="2422" class="Symbol">)</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="2430" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="2431" class="Symbol">))</a>
  <a id="2436" class="Symbol">(</a><a id="2437" href="Generic.Syntax.STLC%252BState.html#564" class="InductiveConstructor">Put</a>     <a id="2445" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2447" href="Generic.Semantics.Elaboration.State.html#2447" class="Bound">t</a> <a id="2449" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2451" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2455" class="Symbol">)</a>     <a id="2461" class="Symbol">→</a> <a id="2463" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2467" class="Symbol">(</a><a id="2468" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2472" class="Symbol">(</a><a id="2473" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="2478" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="2479" class="Symbol">)</a> <a id="2481" href="Generic.Syntax.STLC%252BProduct.html#1338" class="InductiveConstructor">ONE</a><a id="2484" class="Symbol">)</a>
  <a id="2488" class="Symbol">(</a><a id="2489" href="Generic.Syntax.STLC%252BState.html#618" class="InductiveConstructor">Ret</a> <a id="2493" href="Generic.Semantics.Elaboration.State.html#2493" class="Bound">σ</a>   <a id="2497" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2499" href="Generic.Semantics.Elaboration.State.html#2499" class="Bound">t</a> <a id="2501" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2503" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2507" class="Symbol">)</a>     <a id="2513" class="Symbol">→</a> <a id="2515" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Generic.Syntax.STLC%252BProduct.html#1196" class="InductiveConstructor">PRD</a> <a id="2524" class="Symbol">(</a><a id="2525" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="2530" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="2531" class="Symbol">)</a> <a id="2533" class="Symbol">(</a><a id="2534" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2538" href="Data.Environment.html#2322" class="Function">extend</a> <a id="2545" href="Generic.Semantics.Elaboration.State.html#2499" class="Bound">t</a><a id="2546" class="Symbol">))</a>
  <a id="2551" class="Symbol">(</a><a id="2552" href="Generic.Syntax.STLC%252BState.html#642" class="InductiveConstructor">Bnd</a> <a id="2556" href="Generic.Semantics.Elaboration.State.html#2556" class="Bound">σ</a> <a id="2558" href="Generic.Semantics.Elaboration.State.html#2558" class="Bound">τ</a> <a id="2560" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2562" href="Generic.Semantics.Elaboration.State.html#2562" class="Bound">m</a> <a id="2564" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2566" href="Generic.Semantics.Elaboration.State.html#2566" class="Bound">f</a> <a id="2568" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="2570" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="2574" class="Symbol">)</a> <a id="2576" class="Symbol">→</a> <a id="2578" class="Keyword">let</a> <a id="2582" href="Generic.Semantics.Elaboration.State.html#2582" class="Bound">f′</a> <a id="2585" class="Symbol">=</a> <a id="2587" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2591" href="Data.Environment.html#2322" class="Function">extend</a> <a id="2598" href="Generic.Semantics.Elaboration.State.html#2566" class="Bound">f</a> <a id="2600" class="Symbol">;</a> <a id="2602" href="Generic.Semantics.Elaboration.State.html#2602" class="Bound">m′</a> <a id="2605" class="Symbol">=</a> <a id="2607" href="Generic.Semantics.Syntactic.html#1140" class="Function">ren</a> <a id="2611" href="Data.Environment.html#2322" class="Function">extend</a> <a id="2618" href="Generic.Semantics.Elaboration.State.html#2562" class="Bound">m</a> <a id="2620" class="Keyword">in</a>
                             <a id="2652" href="Generic.Syntax.STLC%252BProduct.html#1150" class="InductiveConstructor">LAM</a> <a id="2656" class="Symbol">(</a><a id="2657" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2661" class="Symbol">(</a><a id="2662" href="Generic.Syntax.STLC%252BProduct.html#1369" class="Function">CUR</a> <a id="2666" href="Generic.Semantics.Elaboration.State.html#2582" class="Bound">f′</a><a id="2668" class="Symbol">)</a> <a id="2670" class="Symbol">(</a><a id="2671" href="Generic.Syntax.STLC%252BProduct.html#1519" class="Function">SWP</a> <a id="2675" class="Symbol">(</a><a id="2676" href="Generic.Syntax.STLC%252BProduct.html#1100" class="InductiveConstructor">APP</a> <a id="2680" href="Generic.Semantics.Elaboration.State.html#2602" class="Bound">m′</a> <a id="2683" class="Symbol">(</a><a id="2684" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="2689" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="2690" class="Symbol">))))</a>
</pre></body></html>