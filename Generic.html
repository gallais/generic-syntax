<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="Generic.html" class="Module">Generic</a> <a id="16" class="Keyword">where</a>

<a id="23" class="Comment">--------------------------------------------------------------------------------</a>
<a id="104" class="Comment">-- STATE OF THE ART</a>
<a id="124" class="Comment">--------------------------------------------------------------------------------</a>

<a id="206" class="Comment">-- This work relies on previous efforts in dependently-typed programming:</a>
<a id="280" class="Comment">-- CDMM defines a generic universe of datatypes</a>
<a id="328" class="Keyword">import</a> <a id="335" href="StateOfTheArt.CDMM.html" class="Module">StateOfTheArt.CDMM</a>
<a id="354" class="Comment">-- ACMM defines a generic notion of semantics for a well scoped-and-typed language</a>
<a id="437" class="Keyword">import</a> <a id="444" href="StateOfTheArt.ACMM.html" class="Module">StateOfTheArt.ACMM</a>


<a id="465" class="Comment">--------------------------------------------------------------------------------</a>
<a id="546" class="Comment">-- MOTIVATION</a>
<a id="560" class="Comment">--------------------------------------------------------------------------------</a>

<a id="642" class="Comment">-- Expository problem described in the paper: two languages (S with lets, T without),</a>
<a id="728" class="Comment">-- an elaboration from S to T, two operational semantics and a desired proof:</a>
<a id="806" class="Comment">-- a simulation lemma between a term s in S and its elaboration in T.</a>

<a id="877" class="Keyword">import</a> <a id="884" href="Motivation.Problem.Na%25C3%25AFve.html" class="Module">Motivation.Problem.Naïve</a>
<a id="909" class="Keyword">import</a> <a id="916" href="Motivation.Problem.WithLibrary.html" class="Module">Motivation.Problem.WithLibrary</a>

<a id="948" class="Comment">-- Solutions to the POPLMark Reloaded challenge: proving using a logical relation</a>
<a id="1030" class="Comment">-- argument the strong normalization of the Simply Typed Lambda Calculus, its</a>
<a id="1108" class="Comment">-- extensions with Sums, and finally Gödel T.</a>

<a id="1155" class="Keyword">import</a> <a id="1162" href="Motivation.POPLMark2.STLC.html" class="Module">Motivation.POPLMark2.STLC</a>
<a id="1188" class="Keyword">import</a> <a id="1195" href="Motivation.POPLMark2.Sums.html" class="Module">Motivation.POPLMark2.Sums</a>
<a id="1221" class="Keyword">import</a> <a id="1228" href="Motivation.POPLMark2.GodelT.html" class="Module">Motivation.POPLMark2.GodelT</a>


<a id="1258" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1339" class="Comment">-- THE LIBRARY</a>
<a id="1354" class="Comment">--------------------------------------------------------------------------------</a>

<a id="1436" class="Comment">-- Notations for indexed types</a>
<a id="1467" class="Keyword">import</a> <a id="1474" href="indexed.html" class="Module">indexed</a>

<a id="1483" class="Comment">-- SYNTAX</a>
<a id="1493" class="Comment">--------------------------------------------------------------------------------</a>

<a id="1575" class="Comment">-- Variables as well scoped-and-sorted de Bruijn indices</a>
<a id="1632" class="Keyword">import</a> <a id="1639" href="var.html" class="Module">var</a> <a id="1643" class="Symbol">as</a> <a id="1646" class="Module">V</a>
<a id="1648" class="Keyword">import</a> <a id="1655" href="varlike.html" class="Module">varlike</a>

<a id="1664" class="Comment">-- Universe of Well Scoped-and-Sorted Syntaxes with Binding</a>
<a id="1724" class="Keyword">import</a> <a id="1731" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>

<a id="1747" class="Comment">-- Examples of Syntaxes</a>
<a id="1771" class="Comment">-- * Well-scoped UnTyped Lambda-Calculus</a>
<a id="1812" class="Keyword">import</a> <a id="1819" href="Generic.Syntax.UTLC.html" class="Module">Generic.Syntax.UTLC</a>
<a id="1839" class="Comment">-- * Well-scopde-and-phased Bidirectional UnTyped Lambda-Calculus</a>
<a id="1905" class="Keyword">import</a> <a id="1912" href="Generic.Syntax.Bidirectional.html" class="Module">Generic.Syntax.Bidirectional</a>
<a id="1941" class="Comment">-- * Well-scoped-and-typed variants of the Simply-Typed Lambda-Calculus</a>
<a id="2013" class="Keyword">import</a> <a id="2020" href="Generic.Syntax.STLC.html" class="Module">Generic.Syntax.STLC</a>
<a id="2040" class="Keyword">import</a> <a id="2047" href="Generic.Syntax.STLC%252BState.html" class="Module">Generic.Syntax.STLC+State</a>
<a id="2073" class="Keyword">import</a> <a id="2080" href="Generic.Syntax.STLC%252BProduct.html" class="Module">Generic.Syntax.STLC+Product</a>
<a id="2108" class="Comment">-- * System F as a two-phase syntax</a>
<a id="2144" class="Keyword">import</a> <a id="2151" href="Generic.Examples.SystemF.html" class="Module">Generic.Examples.SystemF</a>


<a id="2178" class="Comment">-- Alternative interpretation of descriptions from PHOAS to raw terms.</a>
<a id="2249" class="Comment">-- This empowers us to prove that:</a>
<a id="2284" class="Comment">-- * to each syntactic term we can associate a term in PHOAS</a>
<a id="2345" class="Comment">-- * to each raw term we can try to associate a syntactic term via *generic*</a>
<a id="2422" class="Comment">--   scopechecking</a>
<a id="2441" class="Keyword">open</a> <a id="2446" class="Keyword">import</a> <a id="2453" href="Generic.AltSyntax.html" class="Module">Generic.AltSyntax</a>

<a id="2472" class="Comment">-- SEMANTICS</a>
<a id="2485" class="Comment">--------------------------------------------------------------------------------</a>

<a id="2567" class="Comment">-- Environments as Well Scoped-and-Sorted Functions from Variables to Values</a>
<a id="2644" class="Keyword">import</a> <a id="2651" href="environment.html" class="Module">environment</a>

<a id="2664" class="Comment">-- Semantics as Well Scoped-and-Sorted Algebras on Syntaxes with Binding</a>
<a id="2737" class="Keyword">import</a> <a id="2744" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>

<a id="2763" class="Comment">-- Trivial instance of a Semantics</a>
<a id="2798" class="Keyword">import</a> <a id="2805" href="Generic.Semantics.Unit.html" class="Module">Generic.Semantics.Unit</a>

<a id="2829" class="Comment">-- Renaming and Substitution as Semantics</a>
<a id="2871" class="Keyword">import</a> <a id="2878" href="Generic.Semantics.Syntactic.html" class="Module">Generic.Semantics.Syntactic</a>

<a id="2907" class="Comment">-- Generic Unsafe Normalization by Evaluation and Printing as Semantics</a>
<a id="2979" class="Keyword">import</a> <a id="2986" href="Generic.Semantics.NbyE.html" class="Module">Generic.Semantics.NbyE</a>
<a id="3009" class="Keyword">import</a> <a id="3016" href="Generic.Semantics.Printing.html" class="Module">Generic.Semantics.Printing</a>
<a id="3043" class="Comment">-- use cases:</a>
<a id="3057" class="Keyword">import</a> <a id="3064" href="Generic.Examples.NbyE.html" class="Module">Generic.Examples.NbyE</a>
<a id="3086" class="Keyword">import</a> <a id="3093" href="Generic.Examples.Printing.html" class="Module">Generic.Examples.Printing</a>

<a id="3120" class="Comment">-- Generic Elaboration of Let-binders (single &amp; parallel ones)</a>
<a id="3183" class="Keyword">import</a> <a id="3190" href="Generic.Semantics.Elaboration.LetBinder.html" class="Module">Generic.Semantics.Elaboration.LetBinder</a>
<a id="3230" class="Keyword">import</a> <a id="3237" href="Generic.Semantics.Elaboration.LetBinders.html" class="Module">Generic.Semantics.Elaboration.LetBinders</a>

<a id="3279" class="Comment">-- Specific Semantics relating various examples of Syntaxes</a>
<a id="3339" class="Keyword">import</a> <a id="3346" href="Generic.Semantics.TypeChecking.html" class="Module">Generic.Semantics.TypeChecking</a>
<a id="3377" class="Keyword">import</a> <a id="3384" href="Generic.Semantics.Elaboration.State.html" class="Module">Generic.Semantics.Elaboration.State</a>


<a id="3422" class="Comment">-- PROPERTIES</a>
<a id="3436" class="Comment">--------------------------------------------------------------------------------</a>

<a id="3518" class="Comment">-- Zip: Head Constructors with Related Subterms</a>
<a id="3566" class="Keyword">import</a> <a id="3573" href="Generic.Zip.html" class="Module">Generic.Zip</a>

<a id="3586" class="Comment">-- Fundamental Lemma of Logical Predicates</a>
<a id="3629" class="Keyword">import</a> <a id="3636" href="pred.html" class="Module">pred</a> <a id="3641" class="Symbol">as</a> <a id="3644" class="Module">P</a>
<a id="3646" class="Keyword">import</a> <a id="3653" href="Generic.Fundamental.html" class="Module">Generic.Fundamental</a>

<a id="3674" class="Comment">-- Generic Notion of Simulation Between Two Semantics</a>
<a id="3728" class="Keyword">import</a> <a id="3735" href="rel.html" class="Module">rel</a> <a id="3739" class="Symbol">as</a> <a id="3742" class="Module">R</a>
<a id="3744" class="Keyword">import</a> <a id="3751" href="Generic.Simulation.html" class="Module">Generic.Simulation</a>
<a id="3770" class="Keyword">import</a> <a id="3777" href="Generic.Simulation.Syntactic.html" class="Module">Generic.Simulation.Syntactic</a>

<a id="3807" class="Comment">-- Applying the Identity Substitution is the Identity</a>
<a id="3861" class="Keyword">import</a> <a id="3868" href="Generic.Identity.html" class="Module">Generic.Identity</a>

<a id="3886" class="Comment">-- FUSION</a>

<a id="3897" class="Comment">-- Generic Notion of Fusible Semantics</a>
<a id="3936" class="Keyword">import</a> <a id="3943" href="Generic.Fusion.html" class="Module">Generic.Fusion</a>

<a id="3959" class="Comment">-- Renaming and Substitution interact well with each other and let-elaboration</a>
<a id="4038" class="Keyword">import</a> <a id="4045" href="Generic.Fusion.Syntactic.html" class="Module">Generic.Fusion.Syntactic</a>
<a id="4070" class="Keyword">import</a> <a id="4077" href="Generic.Fusion.Elaboration.LetBinder.html" class="Module">Generic.Fusion.Elaboration.LetBinder</a>

<a id="4115" class="Comment">-- Based on Kaiser, Schäfer, and Stark&#39;s remark, we can concoct an axiom-free</a>
<a id="4193" class="Comment">-- specialised version of fusion for renaming-semantics interactions (it makes</a>
<a id="4272" class="Comment">-- some of the previous proofs shorter).</a>
<a id="4313" class="Comment">-- We can also use it to replicate their result assuming functional extensionality</a>
<a id="4396" class="Keyword">import</a> <a id="4403" href="Generic.Fusion.Specialised.Propositional.html" class="Module">Generic.Fusion.Specialised.Propositional</a>
<a id="4444" class="Keyword">import</a> <a id="4451" href="Generic.Fusion.Specialised.Replication.html" class="Module">Generic.Fusion.Specialised.Replication</a>



<a id="4493" class="Comment">-- SYNTAX AS A FINITE REPRESENTATION OF CYCLIC STRUCTURES</a>
<a id="4551" class="Comment">--------------------------------------------------------------------------------</a>

<a id="4633" class="Keyword">import</a> <a id="4640" href="Generic.Cofinite.html" class="Module">Generic.Cofinite</a>
<a id="4657" class="Keyword">import</a> <a id="4664" href="Generic.Examples.Colist.html" class="Module">Generic.Examples.Colist</a>
<a id="4688" class="Keyword">import</a> <a id="4695" href="Generic.Bisimilar.html" class="Module">Generic.Bisimilar</a>




<a id="4717" class="Comment">-- Offering users convenient short names</a>
<a id="4758" class="Keyword">open</a> <a id="4763" class="Keyword">module</a> <a id="idx"></a><a id="4770" href="Generic.html#4770" class="Module">idx</a> <a id="4774" class="Symbol">=</a> <a id="4776" href="indexed.html" class="Module">indexed</a> <a id="4784" class="Keyword">public</a>
<a id="4791" class="Keyword">open</a> <a id="4796" class="Keyword">module</a> <a id="var"></a><a id="4803" href="Generic.html#4803" class="Module">var</a> <a id="4807" class="Symbol">=</a> <a id="4809" href="var.html" class="Module">V</a> <a id="4811" class="Keyword">public</a> <a id="4818" class="Keyword">hiding</a> <a id="4825" class="Symbol">(</a><a id="4826" href="var.html#789" class="Function Operator">_&lt;$&gt;_</a><a id="4831" class="Symbol">)</a>
<a id="4833" class="Keyword">open</a> <a id="4838" class="Keyword">module</a> <a id="pred"></a><a id="4845" href="Generic.html#4845" class="Module">pred</a> <a id="4850" class="Symbol">=</a> <a id="4852" href="pred.html" class="Module">P</a> <a id="4854" class="Keyword">public</a> <a id="4861" class="Keyword">hiding</a> <a id="4868" class="Symbol">(</a><a id="4869" href="pred.html#307" class="Record Operator">∀[_]</a><a id="4873" class="Symbol">)</a>
<a id="4875" class="Keyword">open</a> <a id="4880" class="Keyword">module</a> <a id="rel"></a><a id="4887" href="Generic.html#4887" class="Module">rel</a> <a id="4891" class="Symbol">=</a> <a id="4893" href="rel.html" class="Module">R</a> <a id="4895" class="Keyword">public</a> <a id="4902" class="Keyword">hiding</a> <a id="4909" class="Symbol">(</a><a id="4910" href="rel.html#431" class="Record Operator">∀[_]</a><a id="4914" class="Symbol">)</a>
<a id="4916" class="Keyword">open</a> <a id="4921" class="Keyword">module</a> <a id="vlk"></a><a id="4928" href="Generic.html#4928" class="Module">vlk</a> <a id="4932" class="Symbol">=</a> <a id="4934" href="varlike.html" class="Module">varlike</a> <a id="4942" class="Keyword">public</a>
<a id="4949" class="Keyword">open</a> <a id="4954" class="Keyword">module</a> <a id="env"></a><a id="4961" href="Generic.html#4961" class="Module">env</a> <a id="4965" class="Symbol">=</a> <a id="4967" href="environment.html" class="Module">environment</a> <a id="4979" class="Keyword">public</a> <a id="4986" class="Keyword">hiding</a> <a id="4993" class="Symbol">(</a><a id="4994" href="environment.html#4324" class="Function">traverse</a><a id="5002" class="Symbol">)</a>
<a id="5004" class="Keyword">open</a> <a id="5009" class="Keyword">module</a> <a id="syn"></a><a id="5016" href="Generic.html#5016" class="Module">syn</a> <a id="5020" class="Symbol">=</a> <a id="5022" href="Generic.Syntax.html" class="Module">Generic.Syntax</a> <a id="5037" class="Keyword">public</a>
<a id="5044" class="Keyword">open</a> <a id="5049" class="Keyword">module</a> <a id="sem"></a><a id="5056" href="Generic.html#5056" class="Module">sem</a> <a id="5060" class="Symbol">=</a> <a id="5062" href="Generic.Semantics.html" class="Module">Generic.Semantics</a> <a id="5080" class="Keyword">public</a>
<a id="5087" class="Keyword">open</a> <a id="5092" class="Keyword">module</a> <a id="zip"></a><a id="5099" href="Generic.html#5099" class="Module">zip</a> <a id="5103" class="Symbol">=</a> <a id="5105" href="Generic.Zip.html" class="Module">Generic.Zip</a> <a id="5117" class="Keyword">public</a>
<a id="5124" class="Keyword">open</a> <a id="5129" class="Keyword">module</a> <a id="sim"></a><a id="5136" href="Generic.html#5136" class="Module">sim</a> <a id="5140" class="Symbol">=</a> <a id="5142" href="Generic.Simulation.html" class="Module">Generic.Simulation</a> <a id="5161" class="Keyword">public</a>
<a id="5168" class="Keyword">open</a> <a id="5173" class="Keyword">module</a> <a id="fdm"></a><a id="5180" href="Generic.html#5180" class="Module">fdm</a> <a id="5184" class="Symbol">=</a> <a id="5186" href="Generic.Fundamental.html" class="Module">Generic.Fundamental</a> <a id="5206" class="Keyword">public</a>
<a id="5213" class="Keyword">open</a> <a id="5218" class="Keyword">module</a> <a id="fus"></a><a id="5225" href="Generic.html#5225" class="Module">fus</a> <a id="5229" class="Symbol">=</a> <a id="5231" href="Generic.Fusion.html" class="Module">Generic.Fusion</a> <a id="5246" class="Keyword">public</a>
<a id="5253" class="Keyword">open</a> <a id="5258" class="Keyword">module</a> <a id="idt"></a><a id="5265" href="Generic.html#5265" class="Module">idt</a> <a id="5269" class="Symbol">=</a> <a id="5271" href="Generic.Identity.html" class="Module">Generic.Identity</a> <a id="5288" class="Keyword">public</a>

<a id="5296" class="Keyword">open</a> <a id="5301" class="Keyword">module</a> <a id="uni"></a><a id="5308" href="Generic.html#5308" class="Module">uni</a> <a id="5312" class="Symbol">=</a> <a id="5314" href="Generic.Semantics.Unit.html" class="Module">Generic.Semantics.Unit</a> <a id="5337" class="Keyword">public</a>
<a id="5344" class="Keyword">open</a> <a id="5349" class="Keyword">module</a> <a id="nbe"></a><a id="5356" href="Generic.html#5356" class="Module">nbe</a> <a id="5360" class="Symbol">=</a> <a id="5362" href="Generic.Semantics.NbyE.html" class="Module">Generic.Semantics.NbyE</a> <a id="5385" class="Keyword">public</a>
<a id="5392" class="Keyword">open</a> <a id="5397" class="Keyword">module</a> <a id="prt"></a><a id="5404" href="Generic.html#5404" class="Module">prt</a> <a id="5408" class="Symbol">=</a> <a id="5410" href="Generic.Semantics.Printing.html" class="Module">Generic.Semantics.Printing</a> <a id="5437" class="Keyword">public</a>
</pre></body></html>