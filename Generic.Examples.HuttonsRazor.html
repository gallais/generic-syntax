<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Examples.HuttonsRazor</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="Generic.Examples.HuttonsRazor.html" class="Module">Generic.Examples.HuttonsRazor</a> <a id="38" class="Keyword">where</a>

<a id="45" class="Keyword">open</a> <a id="50" class="Keyword">import</a> <a id="57" href="Size.html" class="Module">Size</a>
<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="85" class="Keyword">open</a> <a id="90" class="Keyword">import</a> <a id="97" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="107" class="Keyword">open</a> <a id="112" class="Keyword">import</a> <a id="119" href="Data.Product.html" class="Module">Data.Product</a>
<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Function.html" class="Module">Function</a>

<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="environment.html" class="Module">environment</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>

<a id="321" class="Comment">-- Hutton&#39;s razor as a minimalistic example of a language</a>
<a id="379" class="Comment">-- one may want to evaluate</a>

<a id="408" class="Keyword">data</a> <a id="`HuttRaz"></a><a id="413" href="Generic.Examples.HuttonsRazor.html#413" class="Datatype">`HuttRaz</a> <a id="422" class="Symbol">:</a> <a id="424" class="PrimitiveType">Set</a> <a id="428" class="Keyword">where</a> <a id="`HuttRaz.Lit"></a><a id="434" href="Generic.Examples.HuttonsRazor.html#434" class="InductiveConstructor">Lit</a> <a id="`HuttRaz.Add"></a><a id="438" href="Generic.Examples.HuttonsRazor.html#438" class="InductiveConstructor">Add</a> <a id="442" class="Symbol">:</a> <a id="444" href="Generic.Examples.HuttonsRazor.html#413" class="Datatype">`HuttRaz</a>

<a id="HuttRaz"></a><a id="454" href="Generic.Examples.HuttonsRazor.html#454" class="Function">HuttRaz</a> <a id="462" class="Symbol">:</a> <a id="464" href="Generic.Syntax.html#381" class="Datatype">Desc</a> <a id="469" href="Agda.Builtin.Unit.html#69" class="Record">‚ä§</a>
<a id="471" href="Generic.Examples.HuttonsRazor.html#454" class="Function">HuttRaz</a>  <a id="480" class="Symbol">=</a> <a id="482" href="Generic.Syntax.html#411" class="InductiveConstructor">`œÉ</a> <a id="485" href="Generic.Examples.HuttonsRazor.html#413" class="Datatype">`HuttRaz</a> <a id="494" href="Function.html#1891" class="Function Operator">$</a> <a id="496" class="Symbol">Œª</a> <a id="498" class="Keyword">where</a>
  <a id="506" href="Generic.Examples.HuttonsRazor.html#434" class="InductiveConstructor">Lit</a> <a id="510" class="Symbol">‚Üí</a> <a id="512" href="Generic.Syntax.html#411" class="InductiveConstructor">`œÉ</a> <a id="515" href="Agda.Builtin.Nat.html#97" class="Datatype">‚Ñï</a> <a id="517" class="Symbol">(Œª</a> <a id="520" href="Generic.Examples.HuttonsRazor.html#520" class="Bound">_</a> <a id="522" class="Symbol">‚Üí</a> <a id="524" href="Generic.Syntax.html#495" class="InductiveConstructor">`‚àé</a> <a id="527" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="529" class="Symbol">)</a>
  <a id="533" href="Generic.Examples.HuttonsRazor.html#438" class="InductiveConstructor">Add</a> <a id="537" class="Symbol">‚Üí</a> <a id="539" href="Generic.Syntax.html#453" class="InductiveConstructor">`X</a> <a id="542" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="545" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="548" class="Symbol">(</a><a id="549" href="Generic.Syntax.html#453" class="InductiveConstructor">`X</a> <a id="552" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="555" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="558" class="Symbol">(</a><a id="559" href="Generic.Syntax.html#495" class="InductiveConstructor">`‚àé</a> <a id="562" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="564" class="Symbol">))</a>

<a id="568" class="Keyword">infixr</a> <a id="575" class="Number">5</a> <a id="577" href="Generic.Examples.HuttonsRazor.html#634" class="InductiveConstructor Operator">_[+]_</a>
<a id="583" class="Keyword">pattern</a> <a id="lit"></a><a id="591" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="595" href="Generic.Examples.HuttonsRazor.html#616" class="Bound">n</a>      <a id="602" class="Symbol">=</a> <a id="604" href="Generic.Syntax.html#1192" class="InductiveConstructor">`con</a> <a id="609" class="Symbol">(</a><a id="610" href="Generic.Examples.HuttonsRazor.html#434" class="InductiveConstructor">Lit</a> <a id="614" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="616" href="Generic.Examples.HuttonsRazor.html#616" class="Bound">n</a> <a id="618" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="620" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="624" class="Symbol">)</a>
<a id="626" class="Keyword">pattern</a> <a id="_[+]_"></a><a id="634" href="Generic.Examples.HuttonsRazor.html#634" class="InductiveConstructor Operator">_[+]_</a> <a id="640" href="Generic.Examples.HuttonsRazor.html#659" class="Bound">e</a> <a id="642" href="Generic.Examples.HuttonsRazor.html#663" class="Bound">f</a>  <a id="645" class="Symbol">=</a> <a id="647" href="Generic.Syntax.html#1192" class="InductiveConstructor">`con</a> <a id="652" class="Symbol">(</a><a id="653" href="Generic.Examples.HuttonsRazor.html#438" class="InductiveConstructor">Add</a> <a id="657" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="659" href="Generic.Examples.HuttonsRazor.html#659" class="Bound">e</a> <a id="661" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="663" href="Generic.Examples.HuttonsRazor.html#663" class="Bound">f</a> <a id="665" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="667" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="671" class="Symbol">)</a>

<a id="674" class="Comment">-- Because there are no variables whatsoever in this simple</a>
<a id="734" class="Comment">-- language we can simply associated values of the empty to</a>
<a id="794" class="Comment">-- them. The computation itself will deliver a natural number.</a>

<a id="Eval"></a><a id="858" href="Generic.Examples.HuttonsRazor.html#858" class="Function">Eval</a> <a id="863" class="Symbol">:</a> <a id="865" href="Generic.Semantics.html#487" class="Record">Sem</a> <a id="869" href="Generic.Examples.HuttonsRazor.html#454" class="Function">HuttRaz</a> <a id="877" class="Symbol">(Œª</a> <a id="880" href="Generic.Examples.HuttonsRazor.html#880" class="Bound">_</a> <a id="882" href="Generic.Examples.HuttonsRazor.html#882" class="Bound">_</a> <a id="884" class="Symbol">‚Üí</a> <a id="886" href="Data.Empty.html#243" class="Datatype">‚ä•</a><a id="887" class="Symbol">)</a> <a id="889" class="Symbol">(Œª</a> <a id="892" href="Generic.Examples.HuttonsRazor.html#892" class="Bound">_</a> <a id="894" href="Generic.Examples.HuttonsRazor.html#894" class="Bound">_</a> <a id="896" class="Symbol">‚Üí</a> <a id="898" href="Agda.Builtin.Nat.html#97" class="Datatype">‚Ñï</a><a id="899" class="Symbol">)</a>
<a id="901" href="Generic.Semantics.html#552" class="Field">Sem.th^ùì•</a>  <a id="911" href="Generic.Examples.HuttonsRazor.html#858" class="Function">Eval</a> <a id="916" class="Symbol">=</a> <a id="918" href="Data.Empty.html#360" class="Function">‚ä•-elim</a>
<a id="925" href="Generic.Semantics.html#595" class="Field">Sem.var</a>   <a id="935" href="Generic.Examples.HuttonsRazor.html#858" class="Function">Eval</a> <a id="940" class="Symbol">=</a> <a id="942" href="Data.Empty.html#360" class="Function">‚ä•-elim</a>
<a id="949" href="Generic.Semantics.html#654" class="Field">Sem.alg</a>   <a id="959" href="Generic.Examples.HuttonsRazor.html#858" class="Function">Eval</a> <a id="964" class="Symbol">=</a> <a id="966" class="Symbol">Œª</a> <a id="968" class="Keyword">where</a>
  <a id="976" class="Symbol">(</a><a id="977" href="Generic.Examples.HuttonsRazor.html#434" class="InductiveConstructor">Lit</a> <a id="981" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="983" href="Generic.Examples.HuttonsRazor.html#983" class="Bound">n</a> <a id="985" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="987" class="Symbol">_)</a>     <a id="994" class="Symbol">‚Üí</a> <a id="996" href="Generic.Examples.HuttonsRazor.html#983" class="Bound">n</a>
  <a id="1000" class="Symbol">(</a><a id="1001" href="Generic.Examples.HuttonsRazor.html#438" class="InductiveConstructor">Add</a> <a id="1005" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1007" href="Generic.Examples.HuttonsRazor.html#1007" class="Bound">m</a> <a id="1009" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1011" href="Generic.Examples.HuttonsRazor.html#1011" class="Bound">n</a> <a id="1013" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="1015" class="Symbol">_)</a> <a id="1018" class="Symbol">‚Üí</a> <a id="1020" href="Generic.Examples.HuttonsRazor.html#1007" class="Bound">m</a> <a id="1022" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1024" href="Generic.Examples.HuttonsRazor.html#1011" class="Bound">n</a>

<a id="eval"></a><a id="1027" href="Generic.Examples.HuttonsRazor.html#1027" class="Function">eval</a> <a id="1032" class="Symbol">:</a> <a id="1034" href="Generic.Syntax.html#1063" class="Datatype">Tm</a> <a id="1037" href="Generic.Examples.HuttonsRazor.html#454" class="Function">HuttRaz</a> <a id="1045" href="Agda.Builtin.Size.html#210" class="Postulate">‚àû</a> <a id="1047" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a> <a id="1050" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a> <a id="1053" class="Symbol">‚Üí</a> <a id="1055" href="Agda.Builtin.Nat.html#97" class="Datatype">‚Ñï</a>
<a id="1057" href="Generic.Examples.HuttonsRazor.html#1027" class="Function">eval</a> <a id="1062" class="Symbol">=</a> <a id="1064" href="Generic.Semantics.html#1037" class="Function">Sem.closed</a> <a id="1075" href="Generic.Examples.HuttonsRazor.html#858" class="Function">Eval</a>

<a id="1081" class="Comment">-- And, sure enough, we are able to run these expressions</a>

<a id="3+2"></a><a id="1140" href="Generic.Examples.HuttonsRazor.html#1140" class="Function">3+2</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="Generic.Examples.HuttonsRazor.html#1027" class="Function">eval</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="1156" class="Number">3</a> <a id="1158" href="Generic.Examples.HuttonsRazor.html#634" class="InductiveConstructor Operator">[+]</a> <a id="1162" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="1166" class="Number">2</a><a id="1167" class="Symbol">)</a> <a id="1169" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">‚â°</a> <a id="1171" class="Number">5</a>
<a id="1173" href="Generic.Examples.HuttonsRazor.html#1140" class="Function">3+2</a> <a id="1177" class="Symbol">=</a> <a id="1179" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="[2+6]+0"></a><a id="1185" href="Generic.Examples.HuttonsRazor.html#1185" class="Function">[2+6]+0</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="Generic.Examples.HuttonsRazor.html#1027" class="Function">eval</a> <a id="1200" class="Symbol">((</a><a id="1202" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="1206" class="Number">2</a> <a id="1208" href="Generic.Examples.HuttonsRazor.html#634" class="InductiveConstructor Operator">[+]</a> <a id="1212" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="1216" class="Number">6</a><a id="1217" class="Symbol">)</a> <a id="1219" href="Generic.Examples.HuttonsRazor.html#634" class="InductiveConstructor Operator">[+]</a> <a id="1223" href="Generic.Examples.HuttonsRazor.html#591" class="InductiveConstructor">lit</a> <a id="1227" class="Number">0</a><a id="1228" class="Symbol">)</a> <a id="1230" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">‚â°</a> <a id="1232" class="Number">8</a>
<a id="1234" href="Generic.Examples.HuttonsRazor.html#1185" class="Function">[2+6]+0</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>