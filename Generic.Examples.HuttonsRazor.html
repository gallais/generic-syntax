<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Examples.HuttonsRazor</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--sized-types</a> <a id="34" class="Symbol">#-}</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Generic.Examples.HuttonsRazor.html" class="Module">Generic.Examples.HuttonsRazor</a> <a id="76" class="Keyword">where</a>

<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Size.html" class="Module">Size</a>
<a id="100" class="Keyword">open</a> <a id="105" class="Keyword">import</a> <a id="112" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="145" class="Keyword">open</a> <a id="150" class="Keyword">import</a> <a id="157" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Data.Product.html" class="Module">Data.Product</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Data.List.html" class="Module">Data.List</a>
<a id="235" class="Keyword">open</a> <a id="240" class="Keyword">import</a> <a id="247" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="Data.Environment.html" class="Module">Data.Environment</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Generic.Semantics.html" class="Module">Generic.Semantics</a>

<a id="373" class="Comment">-- Hutton&#39;s razor as a minimalistic example of a language</a>
<a id="431" class="Comment">-- one may want to evaluate</a>

<a id="HuttRaz"></a><a id="460" href="Generic.Examples.HuttonsRazor.html#460" class="Function">HuttRaz</a> <a id="468" class="Symbol">:</a> <a id="470" href="Generic.Syntax.html#527" class="Datatype">Desc</a> <a id="475" href="Agda.Builtin.Unit.html#164" class="Record">‚ä§</a>
<a id="477" href="Generic.Examples.HuttonsRazor.html#460" class="Function">HuttRaz</a>  <a id="486" class="Symbol">=</a>   <a id="490" href="Generic.Syntax.html#557" class="InductiveConstructor">`œÉ</a> <a id="493" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a> <a id="495" class="Symbol">(Œª</a> <a id="498" href="Generic.Examples.HuttonsRazor.html#498" class="Bound">_</a> <a id="500" class="Symbol">‚Üí</a> <a id="502" href="Generic.Syntax.html#641" class="InductiveConstructor">`‚àé</a> <a id="505" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="507" class="Symbol">)</a>
         <a id="518" href="Generic.Syntax.html#1857" class="Function Operator">`+</a>  <a id="522" href="Generic.Syntax.html#599" class="InductiveConstructor">`X</a> <a id="525" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="528" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="531" class="Symbol">(</a><a id="532" href="Generic.Syntax.html#599" class="InductiveConstructor">`X</a> <a id="535" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="538" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="541" class="Symbol">(</a><a id="542" href="Generic.Syntax.html#641" class="InductiveConstructor">`‚àé</a> <a id="545" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="547" class="Symbol">))</a>

<a id="551" class="Keyword">infixr</a> <a id="558" class="Number">5</a> <a id="560" href="Generic.Examples.HuttonsRazor.html#618" class="InductiveConstructor Operator">_[+]_</a>
<a id="566" class="Keyword">pattern</a> <a id="lit"></a><a id="574" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="578" href="Generic.Examples.HuttonsRazor.html#600" class="Bound">n</a>      <a id="585" class="Symbol">=</a> <a id="587" href="Generic.Syntax.html#1418" class="InductiveConstructor">`con</a> <a id="592" class="Symbol">(</a><a id="593" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="598" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="600" href="Generic.Examples.HuttonsRazor.html#600" class="Bound">n</a> <a id="602" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="604" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="608" class="Symbol">)</a>
<a id="610" class="Keyword">pattern</a> <a id="_[+]_"></a><a id="618" href="Generic.Examples.HuttonsRazor.html#618" class="InductiveConstructor Operator">_[+]_</a> <a id="624" href="Generic.Examples.HuttonsRazor.html#645" class="Bound">e</a> <a id="626" href="Generic.Examples.HuttonsRazor.html#649" class="Bound">f</a>  <a id="629" class="Symbol">=</a> <a id="631" href="Generic.Syntax.html#1418" class="InductiveConstructor">`con</a> <a id="636" class="Symbol">(</a><a id="637" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="643" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="645" href="Generic.Examples.HuttonsRazor.html#645" class="Bound">e</a> <a id="647" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="649" href="Generic.Examples.HuttonsRazor.html#649" class="Bound">f</a> <a id="651" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="653" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="657" class="Symbol">)</a>

<a id="660" class="Comment">-- Because there are no variables whatsoever in this simple</a>
<a id="720" class="Comment">-- language we can simply associated values of the empty to</a>
<a id="780" class="Comment">-- them. The computation itself will deliver a natural number.</a>

<a id="Eval"></a><a id="844" href="Generic.Examples.HuttonsRazor.html#844" class="Function">Eval</a> <a id="849" class="Symbol">:</a> <a id="851" href="Generic.Semantics.html#814" class="Record">Semantics</a> <a id="861" href="Generic.Examples.HuttonsRazor.html#460" class="Function">HuttRaz</a> <a id="869" class="Symbol">(Œª</a> <a id="872" href="Generic.Examples.HuttonsRazor.html#872" class="Bound">_</a> <a id="874" href="Generic.Examples.HuttonsRazor.html#874" class="Bound">_</a> <a id="876" class="Symbol">‚Üí</a> <a id="878" href="Data.Empty.html#526" class="Datatype">‚ä•</a><a id="879" class="Symbol">)</a> <a id="881" class="Symbol">(Œª</a> <a id="884" href="Generic.Examples.HuttonsRazor.html#884" class="Bound">_</a> <a id="886" href="Generic.Examples.HuttonsRazor.html#886" class="Bound">_</a> <a id="888" class="Symbol">‚Üí</a> <a id="890" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a><a id="891" class="Symbol">)</a>
<a id="893" href="Generic.Semantics.html#879" class="Field">Semantics.th^ùì•</a>  <a id="909" href="Generic.Examples.HuttonsRazor.html#844" class="Function">Eval</a> <a id="914" class="Symbol">=</a> <a id="916" href="Data.Empty.html#628" class="Function">‚ä•-elim</a>
<a id="923" href="Generic.Semantics.html#906" class="Field">Semantics.var</a>   <a id="939" href="Generic.Examples.HuttonsRazor.html#844" class="Function">Eval</a> <a id="944" class="Symbol">=</a> <a id="946" href="Data.Empty.html#628" class="Function">‚ä•-elim</a>
<a id="953" href="Generic.Semantics.html#931" class="Field">Semantics.alg</a>   <a id="969" href="Generic.Examples.HuttonsRazor.html#844" class="Function">Eval</a> <a id="974" class="Symbol">=</a> <a id="976" href="Generic.Syntax.html#2062" class="Function">case</a> <a id="981" href="Agda.Builtin.Sigma.html#252" class="Field">proj‚ÇÅ</a> <a id="987" class="Symbol">(Œª</a> <a id="990" class="Symbol">{</a> <a id="992" class="Symbol">(</a><a id="993" href="Generic.Examples.HuttonsRazor.html#993" class="Bound">m</a> <a id="995" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="997" href="Generic.Examples.HuttonsRazor.html#997" class="Bound">n</a> <a id="999" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1001" class="Symbol">_)</a> <a id="1004" class="Symbol">‚Üí</a> <a id="1006" href="Generic.Examples.HuttonsRazor.html#993" class="Bound">m</a> <a id="1008" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1010" href="Generic.Examples.HuttonsRazor.html#997" class="Bound">n</a> <a id="1012" class="Symbol">})</a>

<a id="eval"></a><a id="1016" href="Generic.Examples.HuttonsRazor.html#1016" class="Function">eval</a> <a id="1021" class="Symbol">:</a> <a id="1023" href="Generic.Syntax.html#1317" class="Datatype">Tm</a> <a id="1026" href="Generic.Examples.HuttonsRazor.html#460" class="Function">HuttRaz</a> <a id="1034" href="Agda.Builtin.Size.html#302" class="Postulate">‚àû</a> <a id="1036" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="1039" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1042" class="Symbol">‚Üí</a> <a id="1044" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a>
<a id="1046" href="Generic.Examples.HuttonsRazor.html#1016" class="Function">eval</a> <a id="1051" class="Symbol">=</a> <a id="1053" href="Generic.Semantics.html#1621" class="Function">Semantics.closed</a> <a id="1070" href="Generic.Examples.HuttonsRazor.html#844" class="Function">Eval</a>

<a id="1076" class="Comment">-- And, sure enough, we are able to run these expressions</a>

<a id="3+2"></a><a id="1135" href="Generic.Examples.HuttonsRazor.html#1135" class="Function">3+2</a> <a id="1139" class="Symbol">:</a> <a id="1141" href="Generic.Examples.HuttonsRazor.html#1016" class="Function">eval</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="1151" class="Number">3</a> <a id="1153" href="Generic.Examples.HuttonsRazor.html#618" class="InductiveConstructor Operator">[+]</a> <a id="1157" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="1161" class="Number">2</a><a id="1162" class="Symbol">)</a> <a id="1164" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">‚â°</a> <a id="1166" class="Number">5</a>
<a id="1168" href="Generic.Examples.HuttonsRazor.html#1135" class="Function">3+2</a> <a id="1172" class="Symbol">=</a> <a id="1174" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="[2+6]+0"></a><a id="1180" href="Generic.Examples.HuttonsRazor.html#1180" class="Function">[2+6]+0</a> <a id="1188" class="Symbol">:</a> <a id="1190" href="Generic.Examples.HuttonsRazor.html#1016" class="Function">eval</a> <a id="1195" class="Symbol">((</a><a id="1197" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="1201" class="Number">2</a> <a id="1203" href="Generic.Examples.HuttonsRazor.html#618" class="InductiveConstructor Operator">[+]</a> <a id="1207" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="1211" class="Number">6</a><a id="1212" class="Symbol">)</a> <a id="1214" href="Generic.Examples.HuttonsRazor.html#618" class="InductiveConstructor Operator">[+]</a> <a id="1218" href="Generic.Examples.HuttonsRazor.html#574" class="InductiveConstructor">lit</a> <a id="1222" class="Number">0</a><a id="1223" class="Symbol">)</a> <a id="1225" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">‚â°</a> <a id="1227" class="Number">8</a>
<a id="1229" href="Generic.Examples.HuttonsRazor.html#1180" class="Function">[2+6]+0</a> <a id="1237" class="Symbol">=</a> <a id="1239" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre></body></html>