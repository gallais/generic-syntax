<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Sum.Categorical.Left</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- A Categorical view of the Sum type (Left-biased)</a>
<a id="158" class="Comment">------------------------------------------------------------------------</a>

<a id="232" class="Symbol">{-#</a> <a id="236" class="Keyword">OPTIONS</a> <a id="244" class="Pragma">--without-K</a> <a id="256" class="Pragma">--safe</a> <a id="263" class="Symbol">#-}</a>

<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="Level.html" class="Module">Level</a>

<a id="287" class="Keyword">module</a> <a id="294" href="Data.Sum.Categorical.Left.html" class="Module">Data.Sum.Categorical.Left</a> <a id="320" class="Symbol">{</a><a id="321" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a><a id="322" class="Symbol">}</a> <a id="324" class="Symbol">(</a><a id="325" href="Data.Sum.Categorical.Left.html#325" class="Bound">A</a> <a id="327" class="Symbol">:</a> <a id="329" class="PrimitiveType">Set</a> <a id="333" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a><a id="334" class="Symbol">)</a> <a id="336" class="Symbol">(</a><a id="337" href="Data.Sum.Categorical.Left.html#337" class="Bound">b</a> <a id="339" class="Symbol">:</a> <a id="341" href="Agda.Primitive.html#423" class="Postulate">Level</a><a id="346" class="Symbol">)</a> <a id="348" class="Keyword">where</a>

<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a>
<a id="381" class="Keyword">open</a> <a id="386" class="Keyword">import</a> <a id="393" href="Category.Functor.html" class="Module">Category.Functor</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Category.Applicative.html" class="Module">Category.Applicative</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="470" class="Keyword">import</a> <a id="477" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="507" class="Symbol">as</a> <a id="510" class="Module">Id</a>
<a id="513" class="Keyword">open</a> <a id="518" class="Keyword">import</a> <a id="525" href="Function.html" class="Module">Function</a>

<a id="535" class="Comment">-- To minimize the universe level of the RawFunctor, we require that elements of</a>
<a id="616" class="Comment">-- B are &quot;lifted&quot; to a copy of B at a higher universe level (a ⊔ b). See the</a>
<a id="693" class="Comment">-- examples for how this is done.</a>

<a id="728" class="Comment">------------------------------------------------------------------------</a>
<a id="801" class="Comment">-- Left-biased monad instance for _⊎_</a>

<a id="Sumₗ"></a><a id="840" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="845" class="Symbol">:</a> <a id="847" class="PrimitiveType">Set</a> <a id="851" class="Symbol">(</a><a id="852" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a> <a id="854" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="856" href="Data.Sum.Categorical.Left.html#337" class="Bound">b</a><a id="857" class="Symbol">)</a> <a id="859" class="Symbol">→</a> <a id="861" class="PrimitiveType">Set</a> <a id="865" class="Symbol">(</a><a id="866" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a> <a id="868" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="870" href="Data.Sum.Categorical.Left.html#337" class="Bound">b</a><a id="871" class="Symbol">)</a>
<a id="873" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="878" href="Data.Sum.Categorical.Left.html#878" class="Bound">B</a> <a id="880" class="Symbol">=</a> <a id="882" href="Data.Sum.Categorical.Left.html#325" class="Bound">A</a> <a id="884" href="Data.Sum.Base.html#734" class="Datatype Operator">⊎</a> <a id="886" href="Data.Sum.Categorical.Left.html#878" class="Bound">B</a>

<a id="functor"></a><a id="889" href="Data.Sum.Categorical.Left.html#889" class="Function">functor</a> <a id="897" class="Symbol">:</a> <a id="899" href="Category.Functor.html#499" class="Record">RawFunctor</a> <a id="910" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a>
<a id="915" href="Data.Sum.Categorical.Left.html#889" class="Function">functor</a> <a id="923" class="Symbol">=</a> <a id="925" class="Keyword">record</a> <a id="932" class="Symbol">{</a> <a id="934" href="Category.Functor.html#608" class="Field Operator">_&lt;$&gt;_</a> <a id="940" class="Symbol">=</a> <a id="942" href="Data.Sum.Base.html#1492" class="Function">map₂</a> <a id="947" class="Symbol">}</a>

<a id="applicative"></a><a id="950" href="Data.Sum.Categorical.Left.html#950" class="Function">applicative</a> <a id="962" class="Symbol">:</a> <a id="964" href="Category.Applicative.html#494" class="Function">RawApplicative</a> <a id="979" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a>
<a id="984" href="Data.Sum.Categorical.Left.html#950" class="Function">applicative</a> <a id="996" class="Symbol">=</a> <a id="998" class="Keyword">record</a>
  <a id="1007" class="Symbol">{</a> <a id="1009" href="Category.Applicative.Indexed.html#1003" class="Field">pure</a> <a id="1014" class="Symbol">=</a> <a id="1016" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a>
  <a id="1023" class="Symbol">;</a> <a id="1025" href="Category.Applicative.Indexed.html#1034" class="Field Operator">_⊛_</a> <a id="1029" class="Symbol">=</a> <a id="1031" href="Data.Sum.Base.html#1089" class="Function Operator">[</a> <a id="1033" href="Function.Base.html#636" class="Function">const</a> <a id="1039" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1041" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1046" href="Data.Sum.Base.html#1089" class="Function Operator">,</a> <a id="1048" href="Data.Sum.Base.html#1492" class="Function">map₂</a> <a id="1053" href="Data.Sum.Base.html#1089" class="Function Operator">]′</a>
  <a id="1058" class="Symbol">}</a>

<a id="1061" class="Comment">-- The monad instance also requires some mucking about with universe levels.</a>
<a id="monadT"></a><a id="1138" href="Data.Sum.Categorical.Left.html#1138" class="Function">monadT</a> <a id="1145" class="Symbol">:</a> <a id="1147" href="Category.Monad.html#527" class="Function">RawMonadT</a> <a id="1157" class="Symbol">(</a><a id="1158" href="Function.Base.html#3706" class="Function Operator">_∘′</a> <a id="1162" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a><a id="1166" class="Symbol">)</a>
<a id="1168" href="Data.Sum.Categorical.Left.html#1138" class="Function">monadT</a> <a id="1175" href="Data.Sum.Categorical.Left.html#1175" class="Bound">M</a> <a id="1177" class="Symbol">=</a> <a id="1179" class="Keyword">record</a>
  <a id="1188" class="Symbol">{</a> <a id="1190" href="Category.Monad.Indexed.html#644" class="Field">return</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="1206" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1208" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a>
  <a id="1215" class="Symbol">;</a> <a id="1217" href="Category.Monad.Indexed.html#677" class="Field Operator">_&gt;&gt;=_</a>  <a id="1224" class="Symbol">=</a> <a id="1226" class="Symbol">λ</a> <a id="1228" href="Data.Sum.Categorical.Left.html#1228" class="Bound">ma</a> <a id="1231" href="Data.Sum.Categorical.Left.html#1231" class="Bound">f</a> <a id="1233" class="Symbol">→</a> <a id="1235" href="Data.Sum.Categorical.Left.html#1228" class="Bound">ma</a> <a id="1238" href="Category.Monad.Indexed.html#677" class="Field Operator">M.&gt;&gt;=</a> <a id="1244" href="Data.Sum.Base.html#1089" class="Function Operator">[</a> <a id="1246" href="Category.Applicative.Indexed.html#1003" class="Function">M.pure</a> <a id="1253" href="Function.Base.html#3706" class="Function Operator">∘′</a> <a id="1256" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1261" href="Data.Sum.Base.html#1089" class="Function Operator">,</a> <a id="1263" href="Data.Sum.Categorical.Left.html#1231" class="Bound">f</a> <a id="1265" href="Data.Sum.Base.html#1089" class="Function Operator">]′</a>
  <a id="1270" class="Symbol">}</a> <a id="1272" class="Keyword">where</a> <a id="1278" class="Keyword">module</a> <a id="M"></a><a id="1285" href="Data.Sum.Categorical.Left.html#1285" class="Module">M</a> <a id="1287" class="Symbol">=</a> <a id="1289" href="Category.Monad.html#832" class="Module">RawMonad</a> <a id="1298" href="Data.Sum.Categorical.Left.html#1175" class="Bound">M</a>

<a id="monad"></a><a id="1301" href="Data.Sum.Categorical.Left.html#1301" class="Function">monad</a> <a id="1307" class="Symbol">:</a> <a id="1309" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1318" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a>
<a id="1323" href="Data.Sum.Categorical.Left.html#1301" class="Function">monad</a> <a id="1329" class="Symbol">=</a> <a id="1331" href="Data.Sum.Categorical.Left.html#1138" class="Function">monadT</a> <a id="1338" href="Function.Identity.Categorical.html#651" class="Function">Id.monad</a>

<a id="1348" class="Comment">------------------------------------------------------------------------</a>
<a id="1421" class="Comment">-- Get access to other monadic functions</a>

<a id="1463" class="Keyword">module</a> <a id="TraversableA"></a><a id="1470" href="Data.Sum.Categorical.Left.html#1470" class="Module">TraversableA</a> <a id="1483" class="Symbol">{</a><a id="1484" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a><a id="1485" class="Symbol">}</a> <a id="1487" class="Symbol">(</a><a id="1488" href="Data.Sum.Categorical.Left.html#1488" class="Bound">App</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Category.Applicative.html#494" class="Function">RawApplicative</a> <a id="1509" class="Symbol">{</a><a id="1510" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a> <a id="1512" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1514" href="Data.Sum.Categorical.Left.html#337" class="Bound">b</a><a id="1515" class="Symbol">}</a> <a id="1517" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Keyword">where</a>

  <a id="1529" class="Keyword">open</a> <a id="1534" href="Category.Applicative.html#602" class="Module">RawApplicative</a> <a id="1549" href="Data.Sum.Categorical.Left.html#1488" class="Bound">App</a>

  <a id="TraversableA.sequenceA"></a><a id="1556" href="Data.Sum.Categorical.Left.html#1556" class="Function">sequenceA</a> <a id="1566" class="Symbol">:</a> <a id="1568" class="Symbol">∀</a> <a id="1570" class="Symbol">{</a><a id="1571" href="Data.Sum.Categorical.Left.html#1571" class="Bound">A</a><a id="1572" class="Symbol">}</a> <a id="1574" class="Symbol">→</a> <a id="1576" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1584" href="Data.Sum.Categorical.Left.html#1571" class="Bound">A</a><a id="1585" class="Symbol">)</a> <a id="1587" class="Symbol">→</a> <a id="1589" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1597" href="Data.Sum.Categorical.Left.html#1571" class="Bound">A</a><a id="1598" class="Symbol">)</a>
  <a id="1602" href="Data.Sum.Categorical.Left.html#1556" class="Function">sequenceA</a> <a id="1612" class="Symbol">(</a><a id="1613" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1618" href="Data.Sum.Categorical.Left.html#1618" class="Bound">a</a><a id="1619" class="Symbol">)</a> <a id="1621" class="Symbol">=</a> <a id="1623" href="Category.Applicative.Indexed.html#1003" class="Field">pure</a> <a id="1628" class="Symbol">(</a><a id="1629" href="Data.Sum.Base.html#784" class="InductiveConstructor">inj₁</a> <a id="1634" href="Data.Sum.Categorical.Left.html#1618" class="Bound">a</a><a id="1635" class="Symbol">)</a>
  <a id="1639" href="Data.Sum.Categorical.Left.html#1556" class="Function">sequenceA</a> <a id="1649" class="Symbol">(</a><a id="1650" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1655" href="Data.Sum.Categorical.Left.html#1655" class="Bound">x</a><a id="1656" class="Symbol">)</a> <a id="1658" class="Symbol">=</a> <a id="1660" href="Data.Sum.Base.html#809" class="InductiveConstructor">inj₂</a> <a id="1665" href="Category.Functor.html#608" class="Function Operator">&lt;$&gt;</a> <a id="1669" href="Data.Sum.Categorical.Left.html#1655" class="Bound">x</a>

  <a id="TraversableA.mapA"></a><a id="1674" href="Data.Sum.Categorical.Left.html#1674" class="Function">mapA</a> <a id="1679" class="Symbol">:</a> <a id="1681" class="Symbol">∀</a> <a id="1683" class="Symbol">{</a><a id="1684" href="Data.Sum.Categorical.Left.html#1684" class="Bound">A</a> <a id="1686" href="Data.Sum.Categorical.Left.html#1686" class="Bound">B</a><a id="1687" class="Symbol">}</a> <a id="1689" class="Symbol">→</a> <a id="1691" class="Symbol">(</a><a id="1692" href="Data.Sum.Categorical.Left.html#1684" class="Bound">A</a> <a id="1694" class="Symbol">→</a> <a id="1696" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1698" href="Data.Sum.Categorical.Left.html#1686" class="Bound">B</a><a id="1699" class="Symbol">)</a> <a id="1701" class="Symbol">→</a> <a id="1703" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1708" href="Data.Sum.Categorical.Left.html#1684" class="Bound">A</a> <a id="1710" class="Symbol">→</a> <a id="1712" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1714" class="Symbol">(</a><a id="1715" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1720" href="Data.Sum.Categorical.Left.html#1686" class="Bound">B</a><a id="1721" class="Symbol">)</a>
  <a id="1725" href="Data.Sum.Categorical.Left.html#1674" class="Function">mapA</a> <a id="1730" href="Data.Sum.Categorical.Left.html#1730" class="Bound">f</a> <a id="1732" class="Symbol">=</a> <a id="1734" href="Data.Sum.Categorical.Left.html#1556" class="Function">sequenceA</a> <a id="1744" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1746" href="Data.Sum.Base.html#1492" class="Function">map₂</a> <a id="1751" href="Data.Sum.Categorical.Left.html#1730" class="Bound">f</a>

  <a id="TraversableA.forA"></a><a id="1756" href="Data.Sum.Categorical.Left.html#1756" class="Function">forA</a> <a id="1761" class="Symbol">:</a> <a id="1763" class="Symbol">∀</a> <a id="1765" class="Symbol">{</a><a id="1766" href="Data.Sum.Categorical.Left.html#1766" class="Bound">A</a> <a id="1768" href="Data.Sum.Categorical.Left.html#1768" class="Bound">B</a><a id="1769" class="Symbol">}</a> <a id="1771" class="Symbol">→</a> <a id="1773" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1778" href="Data.Sum.Categorical.Left.html#1766" class="Bound">A</a> <a id="1780" class="Symbol">→</a> <a id="1782" class="Symbol">(</a><a id="1783" href="Data.Sum.Categorical.Left.html#1766" class="Bound">A</a> <a id="1785" class="Symbol">→</a> <a id="1787" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1789" href="Data.Sum.Categorical.Left.html#1768" class="Bound">B</a><a id="1790" class="Symbol">)</a> <a id="1792" class="Symbol">→</a> <a id="1794" href="Data.Sum.Categorical.Left.html#1484" class="Bound">F</a> <a id="1796" class="Symbol">(</a><a id="1797" href="Data.Sum.Categorical.Left.html#840" class="Function">Sumₗ</a> <a id="1802" href="Data.Sum.Categorical.Left.html#1768" class="Bound">B</a><a id="1803" class="Symbol">)</a>
  <a id="1807" href="Data.Sum.Categorical.Left.html#1756" class="Function">forA</a> <a id="1812" class="Symbol">=</a> <a id="1814" href="Function.Base.html#1554" class="Function">flip</a> <a id="1819" href="Data.Sum.Categorical.Left.html#1674" class="Function">mapA</a>

<a id="1825" class="Keyword">module</a> <a id="TraversableM"></a><a id="1832" href="Data.Sum.Categorical.Left.html#1832" class="Module">TraversableM</a> <a id="1845" class="Symbol">{</a><a id="1846" href="Data.Sum.Categorical.Left.html#1846" class="Bound">M</a><a id="1847" class="Symbol">}</a> <a id="1849" class="Symbol">(</a><a id="1850" href="Data.Sum.Categorical.Left.html#1850" class="Bound">Mon</a> <a id="1854" class="Symbol">:</a> <a id="1856" href="Category.Monad.html#448" class="Function">RawMonad</a> <a id="1865" class="Symbol">{</a><a id="1866" href="Data.Sum.Categorical.Left.html#321" class="Bound">a</a> <a id="1868" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="1870" href="Data.Sum.Categorical.Left.html#337" class="Bound">b</a><a id="1871" class="Symbol">}</a> <a id="1873" href="Data.Sum.Categorical.Left.html#1846" class="Bound">M</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Keyword">where</a>

  <a id="1885" class="Keyword">open</a> <a id="1890" href="Category.Monad.html#832" class="Module">RawMonad</a> <a id="1899" href="Data.Sum.Categorical.Left.html#1850" class="Bound">Mon</a>

  <a id="1906" class="Keyword">open</a> <a id="1911" href="Data.Sum.Categorical.Left.html#1470" class="Module">TraversableA</a> <a id="1924" href="Category.Monad.Indexed.html#1141" class="Function">rawIApplicative</a> <a id="1940" class="Keyword">public</a>
    <a id="1951" class="Keyword">renaming</a>
    <a id="1964" class="Symbol">(</a> sequenceA <a id="1976" class="Symbol">to</a> sequenceM
    <a id="1993" class="Symbol">;</a> mapA      <a id="2005" class="Symbol">to</a> mapM
    <a id="2017" class="Symbol">;</a> forA      <a id="2029" class="Symbol">to</a> forM
    <a id="2041" class="Symbol">)</a>

</pre></body></html>