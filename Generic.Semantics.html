<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Generic.Semantics</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Pragma">--sized-types</a> <a id="34" class="Symbol">#-}</a>

<a id="39" class="Keyword">module</a> <a id="46" href="Generic.Semantics.html" class="Module">Generic.Semantics</a> <a id="64" class="Keyword">where</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Size.html" class="Module">Size</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="115" class="Symbol">as</a> <a id="118" class="Module">L</a> <a id="120" class="Keyword">hiding</a> <a id="127" class="Symbol">(</a><a id="128" href="Data.List.Base.html#5961" class="Function">lookup</a> <a id="135" class="Symbol">;</a> <a id="137" href="Data.List.Base.html#4647" class="Function Operator">[_]</a><a id="140" class="Symbol">)</a>

<a id="143" class="Keyword">open</a> <a id="148" class="Keyword">import</a> <a id="155" href="Data.Var.html" class="Module">Data.Var</a> <a id="164" class="Keyword">hiding</a> <a id="171" class="Symbol">(</a><a id="172" href="Data.Var.html#640" class="InductiveConstructor">z</a><a id="173" class="Symbol">;</a> <a id="175" href="Data.Var.html#666" class="InductiveConstructor">s</a><a id="176" class="Symbol">)</a>
<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Data.Relation.html" class="Module">Data.Relation</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Data.Environment.html" class="Module">Data.Environment</a>
<a id="260" class="Keyword">open</a> <a id="265" class="Keyword">import</a> <a id="272" href="Generic.Syntax.html" class="Module">Generic.Syntax</a>

<a id="288" class="Keyword">private</a>
  <a id="298" class="Keyword">variable</a>
    <a id="311" href="Generic.Semantics.html#311" class="Generalizable">I</a> <a id="313" class="Symbol">:</a> <a id="315" class="PrimitiveType">Set</a>
    <a id="323" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="325" class="Symbol">:</a> <a id="327" href="Generic.Semantics.html#311" class="Generalizable">I</a>
    <a id="333" href="Generic.Semantics.html#333" class="Generalizable">Γ</a> <a id="335" href="Generic.Semantics.html#335" class="Generalizable">Δ</a> <a id="337" class="Symbol">:</a> <a id="339" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="344" href="Generic.Semantics.html#311" class="Generalizable">I</a>
    <a id="350" href="Generic.Semantics.html#350" class="Generalizable">s</a> <a id="352" class="Symbol">:</a> <a id="354" href="Agda.Builtin.Size.html#179" class="Postulate">Size</a>
    <a id="363" href="Generic.Semantics.html#363" class="Generalizable">d</a> <a id="365" class="Symbol">:</a> <a id="367" href="Generic.Syntax.html#497" class="Datatype">Desc</a> <a id="372" href="Generic.Semantics.html#311" class="Generalizable">I</a>

<a id="375" class="Keyword">module</a> <a id="382" href="Generic.Semantics.html#382" class="Module">_</a>  <a id="385" class="Symbol">{</a><a id="386" href="Generic.Semantics.html#386" class="Bound">d</a> <a id="388" class="Symbol">:</a> <a id="390" href="Generic.Syntax.html#497" class="Datatype">Desc</a> <a id="395" href="Generic.Semantics.html#311" class="Generalizable">I</a><a id="396" class="Symbol">}</a> <a id="398" class="Keyword">where</a>


  <a id="408" href="Generic.Semantics.html#408" class="Function Operator">_─Comp</a> <a id="415" class="Symbol">:</a> <a id="417" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="422" href="Generic.Semantics.html#395" class="Bound">I</a> <a id="424" class="Symbol">→</a> <a id="426" href="Generic.Semantics.html#395" class="Bound">I</a> <a id="428" href="Data.Var.html#511" class="Function Operator">─Scoped</a> <a id="436" class="Symbol">→</a> <a id="438" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="443" href="Generic.Semantics.html#395" class="Bound">I</a> <a id="445" class="Symbol">→</a> <a id="447" class="PrimitiveType">Set</a>
  <a id="453" class="Symbol">(</a><a id="454" href="Generic.Semantics.html#454" class="Bound">Γ</a> <a id="456" href="Generic.Semantics.html#408" class="Function Operator">─Comp</a><a id="461" class="Symbol">)</a> <a id="463" href="Generic.Semantics.html#463" class="Bound">𝓒</a> <a id="465" href="Generic.Semantics.html#465" class="Bound">Δ</a> <a id="467" class="Symbol">=</a> <a id="469" class="Symbol">∀</a> <a id="471" class="Symbol">{</a><a id="472" href="Generic.Semantics.html#472" class="Bound">s</a> <a id="474" href="Generic.Semantics.html#474" class="Bound">σ</a><a id="475" class="Symbol">}</a> <a id="477" class="Symbol">→</a> <a id="479" href="Generic.Syntax.html#1237" class="Datatype">Tm</a> <a id="482" href="Generic.Semantics.html#386" class="Bound">d</a> <a id="484" href="Generic.Semantics.html#472" class="Bound">s</a> <a id="486" href="Generic.Semantics.html#474" class="Bound">σ</a> <a id="488" href="Generic.Semantics.html#454" class="Bound">Γ</a> <a id="490" class="Symbol">→</a> <a id="492" href="Generic.Semantics.html#463" class="Bound">𝓒</a> <a id="494" href="Generic.Semantics.html#474" class="Bound">σ</a> <a id="496" href="Generic.Semantics.html#465" class="Bound">Δ</a>

  <a id="501" class="Keyword">module</a> <a id="DISPLAYONLY"></a><a id="508" href="Generic.Semantics.html#508" class="Module">DISPLAYONLY</a> <a id="520" class="Keyword">where</a>

   <a id="530" class="Keyword">record</a> <a id="537" href="Generic.Semantics.html#537" class="Record">Semantics</a> <a id="547" class="Symbol">(</a><a id="548" href="Generic.Semantics.html#548" class="Bound">d</a> <a id="550" class="Symbol">:</a> <a id="552" href="Generic.Syntax.html#497" class="Datatype">Desc</a> <a id="557" href="Generic.Semantics.html#395" class="Bound">I</a><a id="558" class="Symbol">)</a> <a id="560" class="Symbol">(</a><a id="561" href="Generic.Semantics.html#561" class="Bound">𝓥</a> <a id="563" href="Generic.Semantics.html#563" class="Bound">𝓒</a> <a id="565" class="Symbol">:</a> <a id="567" href="Generic.Semantics.html#395" class="Bound">I</a> <a id="569" href="Data.Var.html#511" class="Function Operator">─Scoped</a><a id="576" class="Symbol">)</a> <a id="578" class="Symbol">:</a> <a id="580" class="PrimitiveType">Set</a> <a id="584" class="Keyword">where</a>
     <a id="595" class="Keyword">field</a> <a id="601" href="Generic.Semantics.html#601" class="Field">th^𝓥</a>  <a id="607" class="Symbol">:</a> <a id="609" href="Data.Environment.html#3393" class="Function">Thinnable</a> <a id="619" class="Symbol">(</a><a id="620" href="Generic.Semantics.html#561" class="Bound">𝓥</a> <a id="622" href="Generic.Semantics.html#323" class="Generalizable">σ</a><a id="623" class="Symbol">)</a>
           <a id="636" href="Generic.Semantics.html#636" class="Field">var</a>   <a id="642" class="Symbol">:</a> <a id="644" href="Relation.Unary.html#3195" class="Function">∀[</a> <a id="647" href="Generic.Semantics.html#561" class="Bound">𝓥</a> <a id="649" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="651" href="Relation.Unary.html#4143" class="Function Operator">⇒</a> <a id="653" href="Generic.Semantics.html#563" class="Bound">𝓒</a> <a id="655" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="657" href="Relation.Unary.html#3195" class="Function">]</a>
           <a id="670" href="Generic.Semantics.html#670" class="Field">alg</a>   <a id="676" class="Symbol">:</a> <a id="678" href="Relation.Unary.html#3195" class="Function">∀[</a> <a id="681" href="Generic.Syntax.html#898" class="Function Operator">⟦</a> <a id="683" href="Generic.Semantics.html#548" class="Bound">d</a> <a id="685" href="Generic.Syntax.html#898" class="Function Operator">⟧</a> <a id="687" class="Symbol">(</a><a id="688" href="Data.Environment.html#3714" class="Function">Kripke</a> <a id="695" href="Generic.Semantics.html#561" class="Bound">𝓥</a> <a id="697" href="Generic.Semantics.html#563" class="Bound">𝓒</a><a id="698" class="Symbol">)</a> <a id="700" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="702" href="Relation.Unary.html#4143" class="Function Operator">⇒</a> <a id="704" href="Generic.Semantics.html#563" class="Bound">𝓒</a> <a id="706" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="708" href="Relation.Unary.html#3195" class="Function">]</a>

<a id="711" class="Keyword">record</a> <a id="Semantics"></a><a id="718" href="Generic.Semantics.html#718" class="Record">Semantics</a> <a id="728" class="Symbol">(</a><a id="729" href="Generic.Semantics.html#729" class="Bound">d</a> <a id="731" class="Symbol">:</a> <a id="733" href="Generic.Syntax.html#497" class="Datatype">Desc</a> <a id="738" href="Generic.Semantics.html#311" class="Generalizable">I</a><a id="739" class="Symbol">)</a> <a id="741" class="Symbol">(</a><a id="742" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="744" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="746" class="Symbol">:</a> <a id="748" href="Generic.Semantics.html#311" class="Generalizable">I</a> <a id="750" href="Data.Var.html#511" class="Function Operator">─Scoped</a><a id="757" class="Symbol">)</a> <a id="759" class="Symbol">:</a> <a id="761" class="PrimitiveType">Set</a> <a id="765" class="Keyword">where</a>

 <a id="773" class="Keyword">field</a>

   <a id="Semantics.th^𝓥"></a><a id="783" href="Generic.Semantics.html#783" class="Field">th^𝓥</a> <a id="788" class="Symbol">:</a> <a id="790" href="Data.Environment.html#3393" class="Function">Thinnable</a> <a id="800" class="Symbol">(</a><a id="801" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="803" href="Generic.Semantics.html#323" class="Generalizable">σ</a><a id="804" class="Symbol">)</a>

   <a id="Semantics.var"></a><a id="810" href="Generic.Semantics.html#810" class="Field">var</a> <a id="814" class="Symbol">:</a> <a id="816" href="Relation.Unary.html#3195" class="Function">∀[</a> <a id="819" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="821" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="823" href="Relation.Unary.html#4143" class="Function Operator">⇒</a> <a id="825" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="827" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="829" href="Relation.Unary.html#3195" class="Function">]</a>

   <a id="Semantics.alg"></a><a id="835" href="Generic.Semantics.html#835" class="Field">alg</a> <a id="839" class="Symbol">:</a> <a id="841" href="Relation.Unary.html#3195" class="Function">∀[</a> <a id="844" href="Generic.Syntax.html#898" class="Function Operator">⟦</a> <a id="846" href="Generic.Semantics.html#729" class="Bound">d</a> <a id="848" href="Generic.Syntax.html#898" class="Function Operator">⟧</a> <a id="850" class="Symbol">(</a><a id="851" href="Data.Environment.html#3714" class="Function">Kripke</a> <a id="858" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="860" href="Generic.Semantics.html#744" class="Bound">𝓒</a><a id="861" class="Symbol">)</a> <a id="863" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="865" href="Relation.Unary.html#4143" class="Function Operator">⇒</a> <a id="867" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="869" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="871" href="Relation.Unary.html#3195" class="Function">]</a>

 <a id="Semantics.semantics"></a><a id="875" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="885" class="Symbol">:</a> <a id="887" class="Symbol">(</a><a id="888" href="Generic.Semantics.html#333" class="Generalizable">Γ</a> <a id="890" href="Data.Environment.html#449" class="Record Operator">─Env</a><a id="894" class="Symbol">)</a> <a id="896" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="898" href="Generic.Semantics.html#335" class="Generalizable">Δ</a> <a id="900" class="Symbol">→</a> <a id="902" class="Symbol">(</a><a id="903" href="Generic.Semantics.html#333" class="Generalizable">Γ</a> <a id="905" href="Generic.Semantics.html#408" class="Function Operator">─Comp</a><a id="910" class="Symbol">)</a> <a id="912" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="914" href="Generic.Semantics.html#335" class="Generalizable">Δ</a>
 <a id="Semantics.body"></a><a id="917" href="Generic.Semantics.html#917" class="Function">body</a>      <a id="927" class="Symbol">:</a> <a id="929" class="Symbol">(</a><a id="930" href="Generic.Semantics.html#333" class="Generalizable">Γ</a> <a id="932" href="Data.Environment.html#449" class="Record Operator">─Env</a><a id="936" class="Symbol">)</a> <a id="938" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="940" href="Generic.Semantics.html#335" class="Generalizable">Δ</a> <a id="942" class="Symbol">→</a> <a id="944" class="Symbol">∀</a> <a id="946" href="Generic.Semantics.html#946" class="Bound">Θ</a> <a id="948" href="Generic.Semantics.html#948" class="Bound">σ</a> <a id="950" class="Symbol">→</a>
             <a id="965" href="Generic.Syntax.html#1137" class="Function">Scope</a> <a id="971" class="Symbol">(</a><a id="972" href="Generic.Syntax.html#1237" class="Datatype">Tm</a> <a id="975" href="Generic.Semantics.html#729" class="Bound">d</a> <a id="977" href="Generic.Semantics.html#350" class="Generalizable">s</a><a id="978" class="Symbol">)</a> <a id="980" href="Generic.Semantics.html#946" class="Bound">Θ</a> <a id="982" href="Generic.Semantics.html#948" class="Bound">σ</a> <a id="984" href="Generic.Semantics.html#333" class="Generalizable">Γ</a> <a id="986" class="Symbol">→</a> <a id="988" href="Data.Environment.html#3714" class="Function">Kripke</a> <a id="995" href="Generic.Semantics.html#742" class="Bound">𝓥</a> <a id="997" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="999" href="Generic.Semantics.html#946" class="Bound">Θ</a> <a id="1001" href="Generic.Semantics.html#948" class="Bound">σ</a> <a id="1003" href="Generic.Semantics.html#335" class="Generalizable">Δ</a>

 <a id="1007" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="1017" href="Generic.Semantics.html#1017" class="Bound">ρ</a> <a id="1019" class="Symbol">(</a><a id="1020" href="Generic.Syntax.html#1281" class="InductiveConstructor">`var</a> <a id="1025" href="Generic.Semantics.html#1025" class="Bound">k</a><a id="1026" class="Symbol">)</a> <a id="1028" class="Symbol">=</a> <a id="1030" href="Generic.Semantics.html#810" class="Field">var</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Data.Environment.html#536" class="Field">lookup</a> <a id="1042" href="Generic.Semantics.html#1017" class="Bound">ρ</a> <a id="1044" href="Generic.Semantics.html#1025" class="Bound">k</a><a id="1045" class="Symbol">)</a>
 <a id="1048" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="1058" href="Generic.Semantics.html#1058" class="Bound">ρ</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Generic.Syntax.html#1338" class="InductiveConstructor">`con</a> <a id="1066" href="Generic.Semantics.html#1066" class="Bound">t</a><a id="1067" class="Symbol">)</a> <a id="1069" class="Symbol">=</a> <a id="1071" href="Generic.Semantics.html#835" class="Field">alg</a> <a id="1075" class="Symbol">(</a><a id="1076" href="Generic.Syntax.html#3102" class="Function">fmap</a> <a id="1081" href="Generic.Semantics.html#729" class="Bound">d</a> <a id="1083" class="Symbol">(</a><a id="1084" href="Generic.Semantics.html#917" class="Function">body</a> <a id="1089" href="Generic.Semantics.html#1058" class="Bound">ρ</a><a id="1090" class="Symbol">)</a> <a id="1092" href="Generic.Semantics.html#1066" class="Bound">t</a><a id="1093" class="Symbol">)</a>

 <a id="1097" href="Generic.Semantics.html#917" class="Function">body</a> <a id="1102" href="Generic.Semantics.html#1102" class="Bound">ρ</a> <a id="1104" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>       <a id="1113" href="Generic.Semantics.html#1113" class="Bound">i</a> <a id="1115" href="Generic.Semantics.html#1115" class="Bound">t</a> <a id="1117" class="Symbol">=</a> <a id="1119" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="1129" href="Generic.Semantics.html#1102" class="Bound">ρ</a> <a id="1131" href="Generic.Semantics.html#1115" class="Bound">t</a>
 <a id="1134" href="Generic.Semantics.html#917" class="Function">body</a> <a id="1139" href="Generic.Semantics.html#1139" class="Bound">ρ</a> <a id="1141" class="Symbol">(_</a> <a id="1144" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="1146" class="Symbol">_)</a>  <a id="1150" href="Generic.Semantics.html#1150" class="Bound">i</a> <a id="1152" href="Generic.Semantics.html#1152" class="Bound">t</a> <a id="1154" class="Symbol">=</a> <a id="1156" class="Symbol">λ</a> <a id="1158" href="Generic.Semantics.html#1158" class="Bound">σ</a> <a id="1160" href="Generic.Semantics.html#1160" class="Bound">vs</a> <a id="1163" class="Symbol">→</a> <a id="1165" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="1175" class="Symbol">(</a><a id="1176" href="Generic.Semantics.html#1160" class="Bound">vs</a> <a id="1179" href="Data.Environment.html#1506" class="Function Operator">&gt;&gt;</a> <a id="1182" href="Data.Environment.html#3506" class="Function">th^Env</a> <a id="1189" href="Generic.Semantics.html#783" class="Field">th^𝓥</a> <a id="1194" href="Generic.Semantics.html#1139" class="Bound">ρ</a> <a id="1196" href="Generic.Semantics.html#1158" class="Bound">σ</a><a id="1197" class="Symbol">)</a> <a id="1199" href="Generic.Semantics.html#1152" class="Bound">t</a>

 <a id="Semantics.closed"></a><a id="1203" href="Generic.Semantics.html#1203" class="Function">closed</a> <a id="1210" class="Symbol">:</a> <a id="1212" href="Generic.Syntax.html#1647" class="Function">TM</a> <a id="1215" href="Generic.Semantics.html#729" class="Bound">d</a> <a id="1217" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="1219" class="Symbol">→</a> <a id="1221" href="Generic.Semantics.html#744" class="Bound">𝓒</a> <a id="1223" href="Generic.Semantics.html#323" class="Generalizable">σ</a> <a id="1225" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
 <a id="1229" href="Generic.Semantics.html#1203" class="Function">closed</a> <a id="1236" class="Symbol">=</a> <a id="1238" href="Generic.Semantics.html#875" class="Function">semantics</a> <a id="1248" href="Data.Environment.html#647" class="Function">ε</a>
</pre></body></html>