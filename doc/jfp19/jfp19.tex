\documentclass{jfp}

\usepackage{microtype}
\usepackage{agda}
\usepackage{catchfilebetweentags}
\usepackage{stmaryrd}
\DisableLigatures[>]{}
\usepackage[T1]{fontenc}
\usepackage{mathpartir}

\input{unicode}
\input{commands}

% fix citation style
\let\oldciteyear\citeyear
\renewcommand{\citeyear}[1]{(\oldciteyear{#1})}
\let\oldcite\cite
\renewcommand{\cite}[1]{(\oldcite{#1})}

\newenvironment{agdasnippet}[1][0]
 {\ifx{#1}\undefined
   \centering
  \else
  \fi
}{\ignorespacesafterend%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\dquote}[1]{``{#1}''}
\newcommand{\squote}[1]{`{#1}'}
\newcommand{\scarequote}[1]{\dquote{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% do not indent code blocks
%\setlength\mathindent{0em}

%\author[G. Allais et al.]

\begin{document}

\journaltitle{JFP}
\cpr{Cambridge University Press}
\doival{10.1017/xxxxx}

\lefttitle{A type- and scope-safe universe of syntaxes with binding}
\righttitle{Journal of Functional Programming}

\totalpg{\pageref{lastpage01}}
\jnlDoiYr{2021}

\title{A type- and scope-safe universe of syntaxes with binding: their semantics and proofs}

\begin{authgrp}
  \author{Guillaume Allais}\\
  \affiliation{University of St Andrews, St Andrews KY16 9AJ, UK \\
    \email{guillaume.allais@ens-lyon.org}}
  \author{Robert Atkey}
  \affiliation{University of Strathclyde, Glasgow G1 1XQ, UK \\
    \email{robert.atkey@strath.ac.uk}}
  \author{James Chapman}
  \affiliation{Input Output HK Ltd., Hong Kong}
  \author{Conor McBride}
  \affiliation{University of Strathclyde, Glasgow G1 1XQ, UK \\
    \email{conor.mcbride@strath.ac.uk}}
  \author{James McKinna}
  \affiliation{Heriot-Watt University, Edinburgh EH14 4AS, UK \\
    \email{J.McKinna@hw.ac.uk}}
\end{authgrp}


\begin{abstract}
The syntax of almost every programming language syntax includes a notion of binder
and corresponding bound occurrences, along with the accompanying
notions of $\alpha$-equivalence, capture-avoiding substitution, typing
contexts, runtime environments, and so on. In the past, implementing
and reasoning about programming languages required careful handling to
maintain the correct behaviour of bound variables. Modern programming
languages include features that enable constraints like scope safety
to be expressed in types. Nevertheless, the programmer is still forced
to write the same boilerplate over again for each new implementation
of a scope-safe operation (e.g., renaming, substitution, desugaring,
printing), and then again for correctness proofs.
We present an expressive universe of syntaxes with binding and
demonstrate how to (1) implement scope-safe traversals once and for
all by generic programming; and (2) how to derive properties of these
traversals by generic proving. Our universe description, generic
traversals and proofs, and our examples have all been formalised in
Agda and are available in the accompanying material available online
at \url{https://github.com/gallais/generic-syntax}.
\end{abstract}

\maketitle


\input{syntax.tex}

\section*{Acknowledgements}

Allais acknowledges the support of EPSRC grant no. EP/M016951/1
\emph{Homotopy Type Theory: Programming and Verification}.
Part of the research leading to these results has also received funding from
the European Research Council under the European Unionâ€™s Seventh Framework
Programme (FP7/2007-2013) / ERC grant agreement nr. 320571.

Atkey acknowledges the support of EPSRC grant no. EP/T026960/1
\emph{AISEC: AI Secure and Explainable by Construction}.

McKinna gratefully acknowledges the support of LFCS, School of Informatics, University of Edinburgh.

The authors would like to thank the ICFP and JFP reviewers for their
useful comments, and the JFP editors and staff for their patience.

\section*{Conflicts of Interest}

None.


\renewcommand{\bibsection}{}
\section*{References}
\bibliographystyle{jfplike}
\bibliography{strings,main}

\label{lastpage01}

\end{document}
