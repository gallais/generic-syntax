<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Binary.PropositionalEquality.TrustMe</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- An equality postulate which evaluates</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Keyword">module</a> <a id="228" href="Relation.Binary.PropositionalEquality.TrustMe.html" class="Module">Relation.Binary.PropositionalEquality.TrustMe</a> <a id="274" class="Keyword">where</a>

<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="336" class="Keyword">using</a> <a id="342" class="Symbol">(</a><a id="343" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="346" class="Symbol">;</a> <a id="348" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="352" class="Symbol">)</a>

<a id="355" class="Keyword">open</a> <a id="360" class="Keyword">import</a> <a id="367" href="Agda.Builtin.TrustMe.html" class="Module">Agda.Builtin.TrustMe</a>

<a id="389" class="Comment">-- trustMe {x = x} {y = y} evaluates to refl if x and y are</a>
<a id="449" class="Comment">-- definitionally equal.</a>
<a id="474" class="Comment">--</a>
<a id="477" class="Comment">-- For an example of the use of trustMe, see Data.String.Unsafe._≟_.</a>

<a id="trustMe"></a><a id="547" href="Relation.Binary.PropositionalEquality.TrustMe.html#547" class="Function">trustMe</a> <a id="555" class="Symbol">:</a> <a id="557" class="Symbol">∀</a> <a id="559" class="Symbol">{</a><a id="560" href="Relation.Binary.PropositionalEquality.TrustMe.html#560" class="Bound">a</a><a id="561" class="Symbol">}</a> <a id="563" class="Symbol">{</a><a id="564" href="Relation.Binary.PropositionalEquality.TrustMe.html#564" class="Bound">A</a> <a id="566" class="Symbol">:</a> <a id="568" class="PrimitiveType">Set</a> <a id="572" href="Relation.Binary.PropositionalEquality.TrustMe.html#560" class="Bound">a</a><a id="573" class="Symbol">}</a> <a id="575" class="Symbol">{</a><a id="576" href="Relation.Binary.PropositionalEquality.TrustMe.html#576" class="Bound">x</a> <a id="578" href="Relation.Binary.PropositionalEquality.TrustMe.html#578" class="Bound">y</a> <a id="580" class="Symbol">:</a> <a id="582" href="Relation.Binary.PropositionalEquality.TrustMe.html#564" class="Bound">A</a><a id="583" class="Symbol">}</a> <a id="585" class="Symbol">→</a> <a id="587" href="Relation.Binary.PropositionalEquality.TrustMe.html#576" class="Bound">x</a> <a id="589" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="591" href="Relation.Binary.PropositionalEquality.TrustMe.html#578" class="Bound">y</a>
<a id="593" href="Relation.Binary.PropositionalEquality.TrustMe.html#547" class="Function">trustMe</a> <a id="601" class="Symbol">=</a> <a id="603" href="Agda.Builtin.TrustMe.html#110" class="Primitive">primTrustMe</a>

<a id="616" class="Comment">-- &quot;Erases&quot; a proof. The original proof is not inspected. The</a>
<a id="678" class="Comment">-- resulting proof reduces to refl if the two sides are definitionally</a>
<a id="749" class="Comment">-- equal. Note that checking for definitional equality can be slow.</a>

<a id="erase"></a><a id="818" href="Relation.Binary.PropositionalEquality.TrustMe.html#818" class="Function">erase</a> <a id="824" class="Symbol">:</a> <a id="826" class="Symbol">∀</a> <a id="828" class="Symbol">{</a><a id="829" href="Relation.Binary.PropositionalEquality.TrustMe.html#829" class="Bound">a</a><a id="830" class="Symbol">}</a> <a id="832" class="Symbol">{</a><a id="833" href="Relation.Binary.PropositionalEquality.TrustMe.html#833" class="Bound">A</a> <a id="835" class="Symbol">:</a> <a id="837" class="PrimitiveType">Set</a> <a id="841" href="Relation.Binary.PropositionalEquality.TrustMe.html#829" class="Bound">a</a><a id="842" class="Symbol">}</a> <a id="844" class="Symbol">{</a><a id="845" href="Relation.Binary.PropositionalEquality.TrustMe.html#845" class="Bound">x</a> <a id="847" href="Relation.Binary.PropositionalEquality.TrustMe.html#847" class="Bound">y</a> <a id="849" class="Symbol">:</a> <a id="851" href="Relation.Binary.PropositionalEquality.TrustMe.html#833" class="Bound">A</a><a id="852" class="Symbol">}</a> <a id="854" class="Symbol">→</a> <a id="856" href="Relation.Binary.PropositionalEquality.TrustMe.html#845" class="Bound">x</a> <a id="858" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="860" href="Relation.Binary.PropositionalEquality.TrustMe.html#847" class="Bound">y</a> <a id="862" class="Symbol">→</a> <a id="864" href="Relation.Binary.PropositionalEquality.TrustMe.html#845" class="Bound">x</a> <a id="866" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="868" href="Relation.Binary.PropositionalEquality.TrustMe.html#847" class="Bound">y</a>
<a id="870" href="Relation.Binary.PropositionalEquality.TrustMe.html#818" class="Function">erase</a> <a id="876" class="Symbol">_</a> <a id="878" class="Symbol">=</a> <a id="880" href="Relation.Binary.PropositionalEquality.TrustMe.html#547" class="Function">trustMe</a>

<a id="889" class="Comment">-- A &quot;postulate with a reduction&quot;: postulate[ a ↦ b ] a evaluates to b,</a>
<a id="961" class="Comment">-- while postulate[ a ↦ b ] a&#39; gets stuck if a&#39; is not definitionally</a>
<a id="1031" class="Comment">-- equal to a. This can be used to define a postulate of type (x : A) → B x</a>
<a id="1107" class="Comment">-- by only specifying the behaviour at B t for some t : A. Introduced in</a>
<a id="1180" class="Comment">--</a>
<a id="1183" class="Comment">--   Alan Jeffrey, Univalence via Agda&#39;s primTrustMe again</a>
<a id="1242" class="Comment">--   23 January 2015</a>
<a id="1263" class="Comment">--   https://lists.chalmers.se/pipermail/agda/2015/007418.html</a>

<a id="postulate[_↦_]"></a><a id="1327" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">postulate[_↦_]</a> <a id="1342" class="Symbol">:</a> <a id="1344" class="Symbol">∀</a> <a id="1346" class="Symbol">{</a><a id="1347" href="Relation.Binary.PropositionalEquality.TrustMe.html#1347" class="Bound">a</a> <a id="1349" href="Relation.Binary.PropositionalEquality.TrustMe.html#1349" class="Bound">b</a><a id="1350" class="Symbol">}</a> <a id="1352" class="Symbol">{</a><a id="1353" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Bound">A</a> <a id="1355" class="Symbol">:</a> <a id="1357" class="PrimitiveType">Set</a> <a id="1361" href="Relation.Binary.PropositionalEquality.TrustMe.html#1347" class="Bound">a</a><a id="1362" class="Symbol">}{</a><a id="1364" href="Relation.Binary.PropositionalEquality.TrustMe.html#1364" class="Bound">B</a> <a id="1366" class="Symbol">:</a> <a id="1368" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Bound">A</a> <a id="1370" class="Symbol">→</a> <a id="1372" class="PrimitiveType">Set</a> <a id="1376" href="Relation.Binary.PropositionalEquality.TrustMe.html#1349" class="Bound">b</a><a id="1377" class="Symbol">}</a> <a id="1379" class="Symbol">→</a>
                  <a id="1399" class="Symbol">(</a><a id="1400" href="Relation.Binary.PropositionalEquality.TrustMe.html#1400" class="Bound">t</a> <a id="1402" class="Symbol">:</a> <a id="1404" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Bound">A</a><a id="1405" class="Symbol">)</a> <a id="1407" class="Symbol">→</a> <a id="1409" href="Relation.Binary.PropositionalEquality.TrustMe.html#1364" class="Bound">B</a> <a id="1411" href="Relation.Binary.PropositionalEquality.TrustMe.html#1400" class="Bound">t</a> <a id="1413" class="Symbol">→</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Relation.Binary.PropositionalEquality.TrustMe.html#1416" class="Bound">x</a> <a id="1418" class="Symbol">:</a> <a id="1420" href="Relation.Binary.PropositionalEquality.TrustMe.html#1353" class="Bound">A</a><a id="1421" class="Symbol">)</a> <a id="1423" class="Symbol">→</a> <a id="1425" href="Relation.Binary.PropositionalEquality.TrustMe.html#1364" class="Bound">B</a> <a id="1427" href="Relation.Binary.PropositionalEquality.TrustMe.html#1416" class="Bound">x</a>
<a id="1429" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">postulate[</a> <a id="1440" href="Relation.Binary.PropositionalEquality.TrustMe.html#1440" class="Bound">a</a> <a id="1442" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">↦</a> <a id="1444" href="Relation.Binary.PropositionalEquality.TrustMe.html#1444" class="Bound">b</a> <a id="1446" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">]</a> <a id="1448" href="Relation.Binary.PropositionalEquality.TrustMe.html#1448" class="Bound">a&#39;</a> <a id="1451" class="Keyword">with</a> <a id="1456" href="Relation.Binary.PropositionalEquality.TrustMe.html#547" class="Function">trustMe</a> <a id="1464" class="Symbol">{</a><a id="1465" class="Argument">x</a> <a id="1467" class="Symbol">=</a> <a id="1469" href="Relation.Binary.PropositionalEquality.TrustMe.html#1440" class="Bound">a</a><a id="1470" class="Symbol">}</a> <a id="1472" class="Symbol">{</a><a id="1473" href="Relation.Binary.PropositionalEquality.TrustMe.html#1448" class="Bound">a&#39;</a><a id="1475" class="Symbol">}</a>
<a id="1477" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">postulate[</a> <a id="1488" href="Relation.Binary.PropositionalEquality.TrustMe.html#1488" class="Bound">a</a> <a id="1490" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">↦</a> <a id="1492" href="Relation.Binary.PropositionalEquality.TrustMe.html#1492" class="Bound">b</a> <a id="1494" href="Relation.Binary.PropositionalEquality.TrustMe.html#1327" class="Function Operator">]</a> <a id="1496" class="DottedPattern Symbol">.</a><a id="1497" href="Relation.Binary.PropositionalEquality.TrustMe.html#1488" class="DottedPattern Bound">a</a> <a id="1499" class="Symbol">|</a> <a id="1501" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Relation.Binary.PropositionalEquality.TrustMe.html#1492" class="Bound">b</a>
</pre></body></html>